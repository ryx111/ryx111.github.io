{"version":3,"sources":["components/Bar.js","components/BarChart.js","components/PieChart.js","components/LineGraphTest.js","components/Ping.js","actions/index.tsx","constants/index.ts","containers/Ping.js","components/Github2.js","containers/Github2.js","components/VideoItem.tsx","components/Youtube.js","containers/Youtube.js","components/Drag.js","containers/Drag.js","components/ChannelList.js","containers/ChannelList.js","components/Zi.js","components/Translate.tsx","containers/Translate.tsx","components/Blog.tsx","table/utils.ts","table/CrimeTable.tsx","map/CrimeDetailsContainer.tsx","map/CrimeMap.tsx","components/Puppet.tsx","containers/VideoItem.js","App.tsx","components/FavoriteVideos.tsx","registerServiceWorker.js","reducer/TranslateReducer.ts","reducer/index.tsx","epic/index.tsx","index.tsx"],"names":["styled","div","colorHash","Avatar","wArr","xArr","mFrame","size","xAccessor","dataObj","x","yAccessor","y","lineStyle","line","stroke","title","strokeWidth","lines","coordinates","lineDataAccessor","axes","orient","margin","left","bottom","right","top","hoverAnnotation","showLinePoints","pointStyle","fill","r","Bar","React","Component","constructor","props","super","this","state","render","yArr","weightVector","xVector","sumsSoFar","total","i","length","push","calcValue","map","value","index","to","Wrapper","tweets","retweets","favorites","barChartObj","data","user","type","oAccessor","rAccessor","style","oLabel","transform","oPadding","axis","label","pieceHoverAnnotation","tooltipContent","d","className","BarChart","deaths1855","month","casualties","deathHash","pieChartData","reduce","accum","PieChart","textAnchor","projection","name","locationDistance","ordinalColors","generateDataArray3","classObjArr","Year","Female","Male","Total","AfricanAmerican","AsianAmerican","BiMultiracial","Caucasian","HispanicAmerican","NativeAmericanHawaiian","NotReportedAndOther","AfricanAmericanPoints","item","AsianAmericanDataPoints","BiMultiracialDataPoints","CaucasianDataPoints","HispanicAmericanDataPoints","tooltipStyles","header","fontWeight","borderBottom","marginBottom","textAlign","lineItem","position","display","wrapper","background","minWidth","whiteSpace","linesRace","id","color","sharedTooltipChart","disable","threshold","passedData","pointsArr","singleDataObj","filter","dObj","sort","a","b","returnArray","key","forEach","point","valString","width","height","backgroundColor","fetchBro","LineGraphTest","points","Ping","JSON","stringify","isPinging","onClick","handleBtnClick","setYoutubeChannelTerm","channelTerm","channelTitle","optionalParametersObj","payload","setFilterTerm","filterTerm","requestSuccess","searchTerm","json","nextPageToken","error","selectVideo","setDBAction","db","connect","dispatch","CustomTitle","h1","green","small","Github2","parseRedditUserJSON","bind","commentsList","children","obj","body","link_permalink","link_title","subreddit","href","includes","wholeState","handleClick","onChange","handleSearchTermChange","handleFilterTermChange","redditState","event","target","actions","StyledLink","Link","SpeedInput","input","CustomButton","button","CustomButton2","ContentContainer","goldWidth","goldHeight","Number","substring","getGoldWidth","VideoItem","showPlayer","setState","isShowing","onPlaybackRateChange","playbackRate","parseFloat","seeking","videoObj","videoId","snippet","channelId","publishedAt","videoUrl","mSet","Set","aposttropheRegex","selectedIndex","replace","marginTop","marginLeft","marginRight","has","url","controls","volume","globalVolume","alignItems","placeholder","onChannelClick","selectedChannel","MyInput","CenterDiv","ListWrapper","StyledLabel","SearchAndVolumeInputContainer","VolumeInputContainer","Youtube","htmlFor","min","max","e","handleGlobalVolumeChange","step","items","currChannelId","currChannelTitle","onTodoClick","listOfSelectedIndexes","youtubeState","dbState","Title","visible","Drag","myRef","myDragRef","myStyleObj","getMyRef","getMyDragRef","onBtnClick","elem","docElem","dragElem","mouseDown$","fromEvent","mouseMove$","mouseUp$","pipe","switchMap","md","startX","offsetX","startY","offsetY","mm","clientX","clientY","takeUntil","subscribe","posObj","ref","time","timerState","ChannelList","useState","queryTerm","setQueryTerm","publishedAfterDateString","setPublishedAfterDateString","publishedBeforeDateString","setPublishedBeforeDateString","debouncedHandleQueryTermChange","fn","delayInMs","timerId","undefined","args","console","log","window","clearTimeout","setTimeout","apply","getDebouncedFunction","queryValue","q","handleSearchChannelVideos","memoedCb","useCallback","padding","flexDirection","for","publishedAfterYearNum","publishedAfter","Date","toISOString","publishedBeforeYearNum","publishedBefore","fontsize","InLineWrapper","TranslationList","translations","join","Zi","myZiRef","isShowingTranslations","getMyZiRef","toggleTranslations","itemObj","simplified","definitions","valsExtracted","Object","values","valObj","pinyin","CustomInput","Translate","isSimplified","renderListOfZi","jsonArr","langSetting","term","onTermChange","translateState","Blog","getPostTwo","getPostThree","getPostFour","getPostFive","mapToPost","text","results","split","p","getPost","postOne","postTwo","postThree","postFour","getCrimesFilteredBySearchTerm","allCrimes","hasSearchTerm","searchTermFilter","toUpperCase","trim","crime","address","beat","cdatetime","crimedescr","district","grid","ucr_ncic_code","longitude","latitude","stringValues","numbersToStrings","String","getCrimeText","AppContext","createContext","SearchBarContainer","StyledTextField","TableContainer","dataKeyLabelMap","dataKeyWidthMap","SideBarContainer","SideBarContent","ColumnContainer","Flex","CrimeDetailsContainer","labelValueMapForFeature","keys","Typography","DEFAULT_MAP_LOCATION","mapboxgl","accessToken","Container","StyledInput","MapStyle","MapContainer","MapElement","emojiRegex","profileImageRegex","StyledVideo","video","Puppet","filteredUrlsJSON","imageUrlsJSON","slice","test","urlSet","urlsArr","Array","from","urls","setUrls","newSize","newUrls","newUrl","prevUrl","endsWith","getNewSizeUrl","CustomImage","videosJSON","videoURLObj","poster","src","preload","HrefsList","hrefObjectsJSON","o","startsWith","StyledDiv","textContent","ImageContainer","isSmall","isMedium","isLarge","showButtons","imageDimensionsRegex","finalUrl","TestVideos","routesArr","path","component","hasFlag","videos","setVideos","useEffect","getAll","OBJECT_STORE_NAME","filteredVideos","getFavoriteVideos","videoValue","containerRef","useRef","mapboxMap","setMapboxMap","memoizedMapboxMap","useMemo","setSearchTerm","selectedFeature","setSelectedFeature","current","options","container","Dark","center","zoom","Map","addControl","NavigationControl","showCompass","on","features","firstFeature","getCanvas","cursor","setPaintProperty","crimesFilter","norrmalizedSearchTerm","setFilter","handler","queryRenderedFeatures","layers","off","feature","properties","Address","Beat","Descr","District","Grid","UCR","getLabelValueMapForFeature","el","useContext","crimes","setCrimes","sortBy","setSortBy","SortDirection","ASC","sortDirection","setSortDirection","showEmptySearchTermMessage","setShowEmptySearchTermMessage","_sort","sortedList","_","orderBy","_sortList","handleButtonClick","filteredCrimes","sortedCrimes","Provider","headerHeight","rowHeight","overscanRowCount","rowCount","rowGetter","dataKey","match","LinksWrapper","App","listItems","routeObj","process","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","initialState","translateReducer","action","errror","initialPingState","pingReducer","initialGithubState","username","githubReducer","login","initialRedditState","redditReducer","initialYoutubeState","youtubeReducer","initialTimerState","isTiming","timerReducer","initialDBState","dbReducer","initialTranslateState","rootReducer","githubState","API_KEY","rootEpic","combineEpics","action$","ofType","debounceTime","ajax","getJSON","makeUrl","responseJSON","catchError","of","xhr","response","delay","interval","num","wholePayload","URL","makeChannelUrl","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","__REDUX_DEVTOOLS_EXTENSION__","compose","epicMiddleware","createEpicMiddleware","store","createStore","applyMiddleware","DB_NAME","DB_VERSION","OPEN_DB_CALLBACKS_OBJ","upgrade","createObjectStore","keyPath","autoIncrement","createIndex","openDB","demo","ReactDOM","document","getElementById","origin","addEventListener","fetch","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.44645770.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { XYFrame, Mark } from \"semiotic\";\r\n\r\nconst Wrapper = styled.div`\r\n  background: white;\r\n  color: black;\r\n  margin: 1em;\r\n  padding: 1em;\r\n  border: 4px;\r\n`;\r\n\r\nfunction toolTipContentFunc(dataObj) {\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"tool-tip content\">\r\n        <h1> {dataObj.week} </h1>\r\n        <h1> {dataObj.grossWeekly} </h1>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nlet colorHash = {\r\n  \"Fight Club\": \"red\",\r\n  Avatar: \"purple\"\r\n};\r\n\r\nlet ptColorHash = {\r\n  \"Fight Club\": \"blue\",\r\n  Avatar: \"green\"\r\n};\r\n\r\nconst mLines = [\r\n  {\r\n    // line 1\r\n    title: \"Fight Club\",\r\n    coordinates: [{ x: 1, y: 10 }, { x: 2, y: 20 }]\r\n  },\r\n  {\r\n    // line 2\r\n    title: \"Avatar\",\r\n    coordinates: [{ x: 1, y: 15 }, { x: 2, y: 30 }]\r\n  }\r\n];\r\n\r\n// as a column vector [w0, w1, w2] where w0 is the bias\r\n// threshold = - bias\r\nlet wArr = [3, 5];\r\n\r\nlet xArr = [1, 15];\r\n\r\nfunction calcValue(weightVector, xVector) {\r\n  let sumsSoFar = [0];\r\n  let total = 0;\r\n\r\n  for (let i = 0; i < weightVector.length; i++) {\r\n    let currValue = weightVector[i] * xVector[i];\r\n    total += currValue;\r\n    sumsSoFar.push(total);\r\n  }\r\n\r\n  return sumsSoFar;\r\n}\r\n\r\nlet sizeArr = [500, 700];\r\n\r\nlet mMarginObj = { left: 80, bottom: 50, right: 10, top: 40 };\r\n\r\n// adds axis for range accessor\r\nlet mAxes = [{ orient: \"left\" }, { orient: \"bottom\" }];\r\n\r\nconst mFrame = {\r\n  size: sizeArr,\r\n  xAccessor: dataObj => {\r\n    return dataObj.x;\r\n  },\r\n  yAccessor: dataObj => {\r\n    return dataObj.y;\r\n  },\r\n  lineStyle: line => {\r\n    return {\r\n      stroke: colorHash[line.title],\r\n      strokeWidth: 1\r\n    };\r\n  },\r\n  lines: mLines,\r\n  lineDataAccessor: dataObj => {\r\n    return dataObj.coordinates;\r\n  },\r\n  axes: mAxes,\r\n  margin: mMarginObj,\r\n  hoverAnnotation: true,\r\n  showLinePoints: true,\r\n  pointStyle: () => {\r\n    return {\r\n      fill: \"green\",\r\n      r: 10\r\n    };\r\n  }\r\n};\r\n\r\nexport default class Bar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    let yArr = calcValue(wArr, xArr);\r\n    return (\r\n      <div>\r\n        <XYFrame {...mFrame} />\r\n        <div>\r\n          {yArr.map((value, index) => {\r\n            return (\r\n              <h1>\r\n                {\" \"}\r\n                val {value} at index {index}\r\n              </h1>\r\n            );\r\n          })}\r\n        </div>\r\n        <h1> weighted sum is {} </h1>\r\n        <Link to=\"/\"> Home </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { OrdinalFrame } from \"semiotic\";\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 1em;\r\n  margin: 1em;\r\n  color: black;\r\n  background: white;\r\n  border: 4px;\r\n`;\r\n\r\nconst barChartData = [\r\n  { user: \"Jason\", tweets: 10, retweets: 5, favorites: 15 },\r\n  { user: \"Susie\", tweets: 5, retweets: 100, favorites: 100 },\r\n  { user: \"Matt\", tweets: 20, retweets: 25, favorites: 50 },\r\n  { user: \"Betty\", tweets: 30, retweets: 20, favorites: 10 }\r\n];\r\n\r\n// note order of the pieces\r\nconst inflatedBarChartData = [\r\n  // note the rpe-sorting. first tweets for each user, then retweets.\r\n  { user: \"Jason\", type: \"tweets\", value: 10 },\r\n  { user: \"Susie\", type: \"tweets\", value: 5 },\r\n  { user: \"Matt\", type: \"tweets\", value: 20 },\r\n  { user: \"Betty\", type: \"tweets\", value: 30 },\r\n  { user: \"Jason\", type: \"retweets\", value: 5 },\r\n  { user: \"Susie\", type: \"retweets\", value: 100 },\r\n  { user: \"Matt\", type: \"retweets\", value: 25 },\r\n  { user: \"Betty\", type: \"retweets\", value: 20 },\r\n  { user: \"Jason\", type: \"favorites\", value: 15 },\r\n  { user: \"Susie\", type: \"favorites\", value: 100 },\r\n  { user: \"Matt\", type: \"favorites\", value: 50 },\r\n  { user: \"Betty\", type: \"favorites\", value: 10 }\r\n];\r\n\r\n// color based on dataObj.type\r\nconst colorHash = {\r\n  tweets: \"#4d430c\",\r\n  retweets: \"#b3331d\",\r\n  favorites: \"#b6a756\"\r\n};\r\n\r\nconst axisObj = {\r\n  orient: \"left\",\r\n  label: \"Tweets, Retweets and Favorites\"\r\n};\r\nconst marginObj = { left: 70, bottom: 70, right: 5, top: 55 };\r\n\r\nconst sizeArr = [500, 700];\r\n\r\nconst getOLabelFunc = oLabel => {\r\n  return <text transform=\"translate(-15,0)rotate(45)\"> {oLabel} </text>;\r\n};\r\n\r\nconst barChartObj = {\r\n  // spread into OrdinalFrame\r\n  size: sizeArr,\r\n  data: inflatedBarChartData, // barChartData\r\n  oAccessor: dataObj => {\r\n    return dataObj.user;\r\n  },\r\n  rAccessor: dataObj => {\r\n    return dataObj.value;\r\n  },\r\n  style: dataObj => {\r\n    // take in a single data point and return a React style obj\r\n    return {\r\n      fill: colorHash[dataObj.type],\r\n      stroke: \"white\"\r\n    };\r\n  },\r\n  type: \"bar\",\r\n  oLabel: getOLabelFunc, // return label under each bar\r\n  oPadding: 20, // space between each bar\r\n  axis: axisObj,\r\n  margin: marginObj,\r\n  pieceHoverAnnotation: true, // toolTip content is passed the array of pieces\r\n  tooltipContent: d => {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"tooltip-content\">\r\n          <p>{d.user}</p>\r\n          <p>{d.value}</p>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class BarChart extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <OrdinalFrame {...barChartObj} />\r\n        <Link to=\"/\"> Home </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { OrdinalFrame } from \"semiotic\";\r\n\r\nconst deaths1855 = [\r\n  { month: \"Jan\", type: \"Wounds & injuries\", casualties: 83 },\r\n  { month: \"Feb\", type: \"Wounds & injuries\", casualties: 42 },\r\n  { month: \"Mar\", type: \"Wounds & injuries\", casualties: 32 },\r\n  { month: \"Apr\", type: \"Wounds & injuries\", casualties: 48 },\r\n  { month: \"May\", type: \"Wounds & injuries\", casualties: 49 },\r\n  { month: \"Jun\", type: \"Wounds & injuries\", casualties: 209 },\r\n  { month: \"Jul\", type: \"Wounds & injuries\", casualties: 134 },\r\n  { month: \"Aug\", type: \"Wounds & injuries\", casualties: 164 },\r\n  { month: \"Sep\", type: \"Wounds & injuries\", casualties: 276 },\r\n  { month: \"Oct\", type: \"Wounds & injuries\", casualties: 53 },\r\n  { month: \"Nov\", type: \"Wounds & injuries\", casualties: 33 },\r\n  { month: \"Dec\", type: \"Wounds & injuries\", casualties: 18 },\r\n  { month: \"Jan\", type: \"All other causes\", casualties: 324 },\r\n  { month: \"Feb\", type: \"All other causes\", casualties: 361 },\r\n  { month: \"Mar\", type: \"All other causes\", casualties: 172 },\r\n  { month: \"Apr\", type: \"All other causes\", casualties: 57 },\r\n  { month: \"May\", type: \"All other causes\", casualties: 37 },\r\n  { month: \"Jun\", type: \"All other causes\", casualties: 31 },\r\n  { month: \"Jul\", type: \"All other causes\", casualties: 33 },\r\n  { month: \"Aug\", type: \"All other causes\", casualties: 25 },\r\n  { month: \"Sep\", type: \"All other causes\", casualties: 20 },\r\n  { month: \"Oct\", type: \"All other causes\", casualties: 18 },\r\n  { month: \"Nov\", type: \"All other causes\", casualties: 32 },\r\n  { month: \"Dec\", type: \"All other causes\", casualties: 28 },\r\n  { month: \"Jan\", type: \"Zymotic diseases\", casualties: 2761 },\r\n  { month: \"Feb\", type: \"Zymotic diseases\", casualties: 2120 },\r\n  { month: \"Mar\", type: \"Zymotic diseases\", casualties: 1205 },\r\n  { month: \"Apr\", type: \"Zymotic diseases\", casualties: 477 },\r\n  { month: \"May\", type: \"Zymotic diseases\", casualties: 508 },\r\n  { month: \"Jun\", type: \"Zymotic diseases\", casualties: 802 },\r\n  { month: \"Jul\", type: \"Zymotic diseases\", casualties: 382 },\r\n  { month: \"Aug\", type: \"Zymotic diseases\", casualties: 483 },\r\n  { month: \"Sep\", type: \"Zymotic diseases\", casualties: 189 },\r\n  { month: \"Oct\", type: \"Zymotic diseases\", casualties: 128 },\r\n  { month: \"Nov\", type: \"Zymotic diseases\", casualties: 178 },\r\n  { month: \"Dec\", type: \"Zymotic diseases\", casualties: 91 }\r\n];\r\n\r\nconst deathHash = {\r\n  \"Zymotic diseases\": \"#00a2ce\",\r\n  \"Wounds & injuries\": \"#b3331d\",\r\n  \"All other causes\": \"#4d430c\"\r\n};\r\nconst Wrapper = styled.div`\r\n  padding: 1em;\r\n  margin: 1em;\r\n  color: black;\r\n  background: white;\r\n  border: 4px;\r\n`;\r\nconst pieChartData = [\r\n  { user: \"Jason\", tweets: 10, retweets: 5, favorites: 15 },\r\n  { user: \"Susie\", tweets: 5, retweets: 100, favorites: 100 },\r\n  { user: \"Matt\", tweets: 20, retweets: 25, favorites: 50 },\r\n  { user: \"Betty\", tweets: 30, retweets: 20, favorites: 10 }\r\n];\r\n\r\nlet totalTweets = pieChartData.reduce((accum, dataObj) => {\r\n  let newAccum = accum + dataObj.tweets;\r\n  return newAccum;\r\n}, 0);\r\n\r\nconst colorHash = {\r\n  tweets: \"#4d430c\",\r\n  retweets: \"#b3331d\",\r\n  favorites: \"#b6a756\"\r\n};\r\n\r\nconst colorUsersHash = {\r\n  Jason: \"#4d430c\",\r\n  Susie: \"#b3331d\",\r\n  Matt: \"#b6a756\",\r\n  Betty: \"#4169E1\" // Royal blue\r\n};\r\n\r\nconst axisObj = {\r\n  label: { name: \"Casualties\", locationDistance: 15 }\r\n};\r\nconst marginObj = { left: 70, bottom: 70, right: 5, top: 55 };\r\n\r\nconst sizeArr = [500, 500];\r\n\r\nconst getOLabel = oLabel => {\r\n  return <text transform=\"translate(-15,0)rotate(45)\"> {oLabel} </text>;\r\n};\r\n\r\nconst pieChartObj = {\r\n  title: \"Pie Chart\", // spread into OrdinalFrame\r\n  size: sizeArr, // size needs to be circle\r\n  data: pieChartData, // barChartData\r\n  oAccessor: dataObj => {\r\n    return dataObj.user;\r\n  },\r\n  dynamicColumnWidth: \"tweets\", //\"tweets\",\r\n  style: dataObj => {\r\n    // take in a single data point and return a React style obj\r\n    return { fill: colorUsersHash[dataObj.user], stroke: \"white\" };\r\n  },\r\n  type: { type: \"bar\", innerRadius: 10 }, // instead of just type: \"bar\"\r\n  margin: marginObj,\r\n  projection: \"radial\",\r\n  oLabel: true,\r\n  oPadding: 1,\r\n  pieceHoverAnnotation: true,\r\n  tooltipContent: piece => {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"tooltip-content\">\r\n          <p>User: {piece.user}</p>\r\n          <p>Tweets: {piece.tweets}</p>\r\n          <p>totalTweets {totalTweets} should be 65</p>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n};\r\n\r\nexport default class PieChart extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <OrdinalFrame\r\n          title={\r\n            <g style={{ textAnchor: \"middle\" }} transform=\"translate(250,15)\">\r\n              <text>DIAGRAM of the CAUSES of MORTALITY</text>\r\n              <text y={15}>in the ARMY in the EAST</text>\r\n            </g>\r\n          }\r\n          size={[500, 500]}\r\n          data={deaths1855}\r\n          oAccessor={\"month\"}\r\n          rAccessor={\"casualties\"}\r\n          style={d => ({\r\n            fill: deathHash[d.type]\r\n            //fillOpacity: 0.75,\r\n            //stroke: deathHash[d.type]\r\n          })}\r\n          type={\"bar\"}\r\n          projection={\"radial\"}\r\n          axis={{\r\n            label: { name: \"Casualties\", locationDistance: 15 }\r\n          }}\r\n          margin={{ bottom: 50, top: 70, left: 25, right: 25 }}\r\n          hoverAnnotation={true}\r\n          oLabel={true}\r\n        />\r\n        <Link to=\"/\"> Home </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\n <OrdinalFrame\r\n          {...pieChartObj}\r\n        />\r\n*/\r\n","import React from \"react\";\r\nimport { XYFrame } from \"semiotic\";\r\n\r\nconst ordinalColors = [\"#9c7561\", \"#e15759\", \"#f0cd6b\", \"#fabfd2\", \"#8cd17d\"];\r\n\r\nfunction generateDataArray3(index) {\r\n  // yearObj with {\"asian\" : 1< \"year\r\n\r\n  const classObj2018 = {\r\n    Year: 18,\r\n    Female: 1666,\r\n    Male: 1595,\r\n    Total: 3261,\r\n    AfricanAmerican: 6.1,\r\n    AsianAmerican: 19.1,\r\n    BiMultiracial: 4.4,\r\n    Caucasian: 42.2,\r\n    HispanicAmerican: 12.7,\r\n    NativeAmericanHawaiian: 0.6,\r\n    NotReportedAndOther: 5.6\r\n  };\r\n\r\n  const classObj2019 = {\r\n    Year: 19,\r\n    Female: 1686,\r\n    Male: 1533,\r\n    Total: 3219,\r\n    AfricanAmerican: 7,\r\n    AsianAmerican: 20.1,\r\n    BiMultiracial: 4.4,\r\n    Caucasian: 36.9,\r\n    HispanicAmerican: 14,\r\n    NativeAmericanHawaiian: 0.6,\r\n    NotReportedAndOther: 7.4\r\n  };\r\n\r\n  const classObj2020 = {\r\n    Year: 20,\r\n    Female: 1785,\r\n    Male: 1557,\r\n    Total: 3342,\r\n    AfricanAmerican: 6.8, // percentages\r\n    AsianAmerican: 18.1,\r\n    BiMultiracial: 4.7,\r\n    Caucasian: 36.3,\r\n    HispanicAmerican: 13.8,\r\n    NativeAmericanHawaiian: 0.7,\r\n    NotReportedAndOther: 8.2\r\n  };\r\n\r\n  let classObjArr = [classObj2018, classObj2019, classObj2020];\r\n\r\n  let AfricanAmericanPoints = classObjArr.map((item, index) => {\r\n    return {\r\n      x: item.Year,\r\n      y: item.AfricanAmerican\r\n    };\r\n  });\r\n\r\n  let AsianAmericanDataPoints = classObjArr.map((item, index) => {\r\n    return {\r\n      x: item.Year,\r\n      y: item.AsianAmerican\r\n    };\r\n  });\r\n\r\n  let BiMultiracialDataPoints = classObjArr.map((item, index) => {\r\n    return {\r\n      x: item.Year,\r\n      y: item.BiMultiracial\r\n    };\r\n  });\r\n\r\n  let CaucasianDataPoints = classObjArr.map((item, index) => {\r\n    return {\r\n      x: item.Year,\r\n      y: item.Caucasian\r\n    };\r\n  });\r\n\r\n  let HispanicAmericanDataPoints = classObjArr.map((item, index) => {\r\n    return {\r\n      x: item.Year,\r\n      y: item.HispanicAmerican\r\n    };\r\n  });\r\n\r\n  switch (index) {\r\n    // x as year, y as percentage admitted\r\n    case 0: // Year by Year\r\n      return AfricanAmericanPoints;\r\n      break;\r\n    case 1: // Asian\r\n      return AsianAmericanDataPoints;\r\n      break;\r\n    case 2: // Asian\r\n      return BiMultiracialDataPoints;\r\n      break;\r\n    case 3: // Asian\r\n      return CaucasianDataPoints;\r\n      break;\r\n    case 4: // Asian\r\n      return HispanicAmericanDataPoints;\r\n      break;\r\n\r\n    default:\r\n      return [];\r\n  }\r\n}\r\n\r\nconst chartAxes = [{ orient: \"left\" }, { orient: \"bottom\" }];\r\n\r\nconst tooltipStyles = {\r\n  header: {\r\n    fontWeight: \"bold\",\r\n    borderBottom: \"thin solid black\",\r\n    marginBottom: \"10px\",\r\n    textAlign: \"center\"\r\n  },\r\n  lineItem: { position: \"relative\", display: \"block\", textAlign: \"left\" },\r\n  title: { display: \"inline-block\", margin: \"0 5px 0 15px\" },\r\n  value: { display: \"inline-block\", fontWeight: \"bold\", margin: \"0\" },\r\n  wrapper: {\r\n    background: \"rgba(255,255,255,0.8)\",\r\n    minWidth: \"max-content\",\r\n    whiteSpace: \"nowrap\"\r\n  }\r\n};\r\n\r\n// const ethnicityArr = [\"Hispanic\", \"Asian\", \"Black\", \"White\", \"Not Reported\"]\r\nconst testArr = [\r\n  \"African American\",\r\n  \"Asian American\",\r\n  \"Bi/Multiracial\",\r\n  \"Caucasian\",\r\n  \"Hispanic American\"\r\n];\r\n\r\n// array of lines. Each line object has an id (ethnicity), color and dataArr (which is an\r\n// array of dateObjects of type {x: 10, y: 25}) for example\r\nconst linesRace = testArr.map((value, index) => {\r\n  return {\r\n    id: value, // \"race\"\r\n    color: ordinalColors[index],\r\n    data: generateDataArray3(index) // return array of data points :: index => {x: Asian, y:15}\r\n  };\r\n});\r\n\r\nfunction fetchBro(passedData) {\r\n  // find an array of points that match the passedData.x\r\n  // lines as diff lines each with a color, id, and dataPoints generated\r\n  const pointsArr = linesRace\r\n    .map(line => {\r\n      let point = {\r\n        id: line.id,\r\n        color: line.color,\r\n        singleDataObj: line.data.filter(dObj => dObj.x === passedData.x)[0] // matches x which is the year\r\n      };\r\n      return point; // return single point\r\n    })\r\n    .sort((a, b) => b.singleDataObj.y - a.singleDataObj.y);\r\n\r\n  const returnArray = [\r\n    <div key={\"header_multi\"} style={tooltipStyles.header}>\r\n      {`Records`}\r\n    </div>\r\n  ];\r\n\r\n  pointsArr.forEach((point, i) => {\r\n    const title = point.id;\r\n    const valString = `${point.singleDataObj.y} %`; // percentage\r\n\r\n    returnArray.push([\r\n      <div key={`tooltip_line_${i}`} style={tooltipStyles.lineItem}>\r\n        <p\r\n          key={`tooltip_color_${i}`}\r\n          style={{\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            backgroundColor: point.color,\r\n            display: \"inline-block\",\r\n            position: \"absolute\",\r\n            top: \"8px\",\r\n            left: \"0\",\r\n            margin: \"0\"\r\n          }}\r\n        />\r\n        <p key={`tooltip_p_${i}`} style={tooltipStyles.title}>{`${title} =`}</p>\r\n        <p key={`tooltip_p_val_${i}`} style={tooltipStyles.value}>\r\n          {valString}\r\n        </p>\r\n      </div>\r\n    ]);\r\n  });\r\n\r\n  return (\r\n    <div className=\"tooltip-content\" style={tooltipStyles.wrapper}>\r\n      {returnArray}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst hoverArr = [\r\n  { type: \"x\", disable: [\"connector\", \"note\"] },\r\n  { type: \"frame-hover\" },\r\n  { type: \"vertical-points\", threshold: 1, r: () => 5 }\r\n];\r\n\r\nconst sizeArr = [1200, 500];\r\n\r\nconst marginObj = { left: 130, bottom: 50, right: 10, top: 40 };\r\n\r\nconst lineStyle = {\r\n  stroke: \"#00a2ce\"\r\n};\r\n\r\nconst sharedTooltipChart = {\r\n  title: \"Cornell Admissions\",\r\n  size: sizeArr,\r\n  className: \"sharedTooltip\",\r\n  lineDataAccessor: \"data\",\r\n  xAccessor: \"x\",\r\n  yAccessor: \"y\",\r\n  lines: linesRace,\r\n  lineStyle: d => {\r\n    return { stroke: d.color, strokeWidth: \"2px\" };\r\n  },\r\n  axes: chartAxes,\r\n  margin: marginObj,\r\n  pointStyle: () => {\r\n    return {\r\n      fill: \"none\",\r\n      stroke: \"black\",\r\n      strokeWidth: \"2.5px\"\r\n    };\r\n  },\r\n  hoverAnnotation: hoverArr,\r\n  tooltipContent: d => fetchBro(d)\r\n};\r\n\r\nexport default class LineGraphTest extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      points: []\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <XYFrame {...sharedTooltipChart} />\r\n      </div>\r\n    );\r\n  } // End of the render function\r\n} // End of the component\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 1em;\r\n  margin: 1em;\r\n  color: black;\r\n  background: lightblue;\r\n  border: 4px;\r\n`;\r\n\r\nexport default class Ping extends React.Component {\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <div>\r\n          <pre>\r\n            <code>\r\n              <h1>Pinging: {JSON.stringify(this.props.isPinging, null, 2)}</h1>\r\n            </code>\r\n          </pre>\r\n\r\n          <button onClick={this.props.handleBtnClick}>\r\n            {\" \"}\r\n            Send ping action{\" \"}\r\n          </button>\r\n          <Link to=\"/\"> Home </Link>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n","import * as constants from \"../constants\";\r\nimport { IDBPDatabase } from \"idb\";\r\n\r\nexport function ping() {\r\n  return {\r\n    type: constants.PING\r\n  };\r\n}\r\n\r\nexport function pong() {\r\n  return {\r\n    type: constants.PONG\r\n  };\r\n}\r\n\r\nexport function fetchUser(username) {\r\n  return {\r\n    type: constants.FETCH_USER,\r\n    payload: {\r\n      username: username\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchUserFulfilled(json) {\r\n  // JSON object returned from Github API\r\n  return {\r\n    type: constants.FETCH_USER_FULFILLED,\r\n    payload: {\r\n      username: json.login, // githubJSON.login returns the username\r\n      json: json,\r\n      error: \"No error\"\r\n    }\r\n  };\r\n}\r\n\r\nexport function setSearchTerm(searchTerm) {\r\n  return {\r\n    type: constants.SET_SEARCH_TERM,\r\n    payload: {\r\n      searchTerm\r\n    }\r\n  };\r\n}\r\n\r\nexport interface YoutubeSetSearchTermAction {\r\n  type: string;\r\n  payload: {\r\n    searchTerm: string;\r\n  };\r\n}\r\n\r\nexport function setYoutubeSearchTerm(searchTerm): YoutubeSetSearchTermAction {\r\n  return {\r\n    type: constants.SET_YOUTUBE_SEARCH_TERM,\r\n    payload: {\r\n      searchTerm\r\n    }\r\n  };\r\n}\r\n\r\nexport interface YoutubeSetChannelTermActionPayload {\r\n  channelTerm: string;\r\n  channelTitle: string;\r\n  // https://developers.google.com/youtube/v3/docs/search/list\r\n  optionalParametersObj: { [key: string]: any };\r\n}\r\n\r\nexport interface YoutubeSetChannelTermAction {\r\n  type: string;\r\n  payload: YoutubeSetChannelTermActionPayload;\r\n}\r\n\r\nexport function setYoutubeChannelTerm(\r\n  channelTerm,\r\n  channelTitle,\r\n  optionalParametersObj = {}\r\n): YoutubeSetChannelTermAction {\r\n  // channelTerm is channelId\r\n  return {\r\n    type: constants.SET_YOUTUBE_CHANNEL_TERM,\r\n    payload: {\r\n      channelTerm,\r\n      channelTitle,\r\n      optionalParametersObj\r\n    }\r\n  };\r\n}\r\n\r\ninterface YoutubeSetVolumeAction {\r\n  type: string;\r\n  payload: {\r\n    globalVolume: number;\r\n  };\r\n}\r\n\r\nexport function setYoutubeVolume(globalVolume: number): YoutubeSetVolumeAction {\r\n  return {\r\n    type: constants.SET_YOUTUBE_GLOBAL_VOLUME,\r\n    payload: {\r\n      globalVolume\r\n    }\r\n  };\r\n}\r\n\r\nexport function setFilterTerm(filterTerm) {\r\n  return {\r\n    type: constants.SET_FILTER_TERM,\r\n    payload: {\r\n      filterTerm\r\n    }\r\n  };\r\n}\r\n\r\nexport function sendRequest() {\r\n  return {\r\n    type: constants.SEND_REQUEST\r\n  };\r\n}\r\n\r\n// request success when Youtube JSON recieved\r\n\r\nexport interface RequestSuccessAction {\r\n  type: string;\r\n  payload: {\r\n    searchTerm: string;\r\n    json: any;\r\n    nextPageToken: any;\r\n    error: any;\r\n  };\r\n}\r\nexport function requestSuccess(searchTerm, json): RequestSuccessAction {\r\n  return {\r\n    type: constants.REQUEST_SUCCESS,\r\n    payload: {\r\n      searchTerm: searchTerm,\r\n      json: json,\r\n      nextPageToken: json[\"nextPageToken\"],\r\n      error: \"Success\"\r\n    }\r\n  };\r\n}\r\n\r\nexport function goToNextPage() {\r\n  // concat akon with new results\r\n  return {\r\n    type: constants.GO_TO_NEXT_PAGE // click to search and use current store state\r\n  };\r\n}\r\n\r\nexport function selectVideo(index) {\r\n  return {\r\n    type: constants.SELECT_VIDEO,\r\n    payload: {\r\n      index\r\n    }\r\n  };\r\n}\r\n\r\n// Timer\r\nexport function startTimer() {\r\n  return {\r\n    type: constants.START_TIMER\r\n  };\r\n}\r\n\r\nexport function setTime(time) {\r\n  return {\r\n    type: constants.SET_TIME,\r\n    payload: {\r\n      time: time\r\n    }\r\n  };\r\n}\r\n\r\n// Translate\r\n\r\nexport function setTranslateTerm(term) {\r\n  return {\r\n    type: constants.SET_TRANSLATE_TERM,\r\n    payload: {\r\n      term: term\r\n    }\r\n  };\r\n}\r\n/*\r\n\r\n*/\r\nexport function requestTranslateSuccess(term, json) {\r\n  // get pinyin json for term\r\n  return {\r\n    type: constants.REQUEST_TRANSLATE_SUCCESS,\r\n    payload: {\r\n      term: term,\r\n      json: json,\r\n      error: \"Success\"\r\n    }\r\n  };\r\n}\r\n\r\nexport interface SetDBAction {\r\n  type: string;\r\n  payload: {\r\n    db: IDBPDatabase<unknown>;\r\n  };\r\n}\r\n\r\nexport function setDBAction(db: IDBPDatabase<unknown>): SetDBAction {\r\n  let action = {\r\n    type: constants.SET_DB,\r\n    payload: {\r\n      db\r\n    }\r\n  };\r\n  return action;\r\n}\r\n","export const PING = \"PING\";\r\nexport const PONG = \"PONG\";\r\nexport const FETCH_USER = \"FETCH_USER\";\r\nexport const FETCH_USER_FULFILLED = \"FETCH_USER_FULFILLED\";\r\n\r\nexport const SET_FILTER_TERM = \"SET_FILTER_TERM\";\r\nexport const SET_SEARCH_TERM = \"SET_SEARCH_TERM\";\r\nexport const SEND_REQUEST = \"SEND_REQUEST\";\r\nexport const REQUEST_SUCCESS = \"REQUEST_SUCCESS\";\r\nexport const FETCH_USER_REJECTED = \"FETCH_USER_REJECTED\";\r\n\r\nexport const SET_YOUTUBE_SEARCH_TERM = \"SET_YOUTUBE_SEARCH_TERM\";\r\nexport const SET_YOUTUBE_CHANNEL_TERM = \"SET_YOUTUBE_CHANNEL_TERM\"; // from clicking a videoItem\r\nexport const SET_YOUTUBE_GLOBAL_VOLUME = \"SET_YOUTUBE_GLOBAL_VOLUME\";\r\nexport const GO_TO_NEXT_PAGE = \"GO_TO_NEXT_PAGE\";\r\n\r\n// when press \"Play\" button on a VideoItem\r\nexport const SELECT_VIDEO = \"SELECT_VIDEO\";\r\n\r\nexport const START_TIMER = \"START_TIMER\";\r\nexport const SET_TIME = \"SET_TIME\";\r\n\r\nexport const SET_TRANSLATE_TERM = \"SET_TRANSLATE_TERM\";\r\nexport const REQUEST_TRANSLATE_SUCCESS = \"REQUEST_TRANSLATE_SUCCESS\";\r\n// action when recieving the response json and the error\r\n\r\nexport const SET_DB = \"SET_DB\";\r\n","import Ping from \"../components/Ping\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isPinging: state.isPinging\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    handleBtnClick() {\r\n      dispatch(actions.ping());\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Ping);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst CustomTitle = styled.h1`\r\n  text-align: center;\r\n  color: ${props => (props.green ? \"green\" : \"black\")};\r\n  font-size: ${props => (props.small ? \"1.3em\" : \"2.0em\")};\r\n`;\r\nconst CustomDiv = styled.div`\r\n  display: inline-block;\r\n  width: \"75%\";\r\n`;\r\n\r\nexport default class Github2 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.parseRedditUserJSON = this.parseRedditUserJSON.bind(this);\r\n  }\r\n\r\n  parseRedditUserJSON(filterTerm, json) {\r\n    let index = 0;\r\n    let commentsList = json.data.children.map(obj => {\r\n      const {\r\n        data: { body, link_title, link_permalink, subreddit }\r\n      } = obj;\r\n      index += 1;\r\n      return (\r\n        <div>\r\n          <a href={link_permalink}> permalink </a>\r\n          {/* <h2> Index is {index }</h2>\r\n            <h2> Link_title is {link_title }</h2>\r\n            <h2> Subreddit is {subreddit }</h2> */}\r\n          <CustomTitle> Body is {body}</CustomTitle>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    if (filterTerm.length <= 0) {\r\n      return commentsList;\r\n    } else {\r\n      return json.data.children\r\n        .filter(obj => {\r\n          const {\r\n            data: { body, link_title, link_permalink, subreddit }\r\n          } = obj;\r\n          return body.includes(filterTerm);\r\n        })\r\n        .map(obj => {\r\n          const {\r\n            data: { body, link_title, link_permalink, subreddit }\r\n          } = obj;\r\n          return (\r\n            <div>\r\n              <h1> botty </h1>\r\n              <h3> Subreddit: r/{subreddit}</h3>\r\n              <h3> Link_title: {link_title}</h3>\r\n              <a href={link_permalink}> permalink </a>\r\n              <h2> Body: {body}</h2>\r\n            </div>\r\n          );\r\n        });\r\n    }\r\n\r\n    // else queryTerm.length > 0\r\n    // return commentList.filter(x => x.has(filterTerm))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <pre>\r\n          <code>\r\n            <h1>This is G2</h1>\r\n            <h1>{this.props.searchTerm}</h1>\r\n\r\n            <h1>Comments list for the current state.redditState.searchTerm</h1>\r\n            <ol>\r\n              {this.props.wholeState[this.props.searchTerm]\r\n                ? this.parseRedditUserJSON(\r\n                    this.props.wholeState.filterTerm,\r\n                    this.props.wholeState[this.props.searchTerm]\r\n                  )\r\n                : \"No comments list\"}\r\n            </ol>\r\n          </code>\r\n        </pre>\r\n        <button onClick={this.props.handleClick}>\r\n          {\" \"}\r\n          Send fetchUser action{\" \"}\r\n        </button>\r\n        <h1> Enter reddit username </h1>\r\n        <input type=\"text\" onChange={this.props.handleSearchTermChange} />\r\n        <h1> Optional: Enter queryTerm (ie filter) </h1>\r\n        <input type=\"text\" onChange={this.props.handleFilterTermChange} />\r\n        <Link to=\"/\"> go to Home route </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//  <h1>{this.props.wholeState? JSON.stringify(this.props.wholeState, null, 2): \"None\"}</h1>\r\n","import Github2 from \"../components/Github2\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nfunction mapStateToProps(state) {\r\n  // fetchUser action will set the state username\r\n  return {\r\n    searchTerm: state.redditState.searchTerm,\r\n    filterTerm: state.redditState.filterTerm,\r\n    wholeState: state.redditState, //  // {username: \"redux-observable\", \"redux-observable\": jsonObj[\"created_at\"]}\r\n    error: state.redditState.error\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    handleClick() {\r\n      dispatch(actions.sendRequest());\r\n    },\r\n\r\n    handleSearchTermChange(event) {\r\n      // send off a setSearchTerm action\r\n      dispatch(actions.setSearchTerm(event.target.value));\r\n    },\r\n\r\n    handleFilterTermChange(event) {\r\n      dispatch(actions.setFilterTerm(event.target.value));\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Github2);\r\n","import React, { ChangeEvent } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactPlayer from \"react-player\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 95%;\r\n  background-color: #f6f6ef;\r\n  color: black;\r\n  align-content: center;\r\n  margin: auto;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  font-size: 15px;\r\n`;\r\n\r\nconst SpeedInput = styled.input`\r\n  padding: 0.5em;\r\n  margin: 0.5em;\r\n  background: white;\r\n  color: black;\r\n  width: 60px;\r\n  height: 20px;\r\n  font-size: 16px;\r\n  border-radius: 3px;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst CustomButton = styled.button`\r\n  width: \"100px\";\r\n  height: \"40px\";\r\n  font-size: 28px;\r\n  padding: 0.5em;\r\n`;\r\nconst CustomButton2 = styled.button`\r\n  width: \"200px\";\r\n  height: \"40px\";\r\n  font-size: 20px;\r\n  padding: 0.5em;\r\n`;\r\n\r\nconst ContentContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-end;\r\n`;\r\nfunction getGoldWidth(goldHeight) {\r\n  let goldY = Number(goldHeight.substring(0, goldHeight.length - 2)); // \"640\"\r\n  let goldWidth = goldY * 1.618 + \"px\";\r\n  return goldWidth;\r\n}\r\n\r\nconst goldHeight = \"220px\";\r\nconst goldWidth = getGoldWidth(goldHeight);\r\n\r\n// interface from Youtube API\r\n// https://developers.google.com/youtube/v3/docs/videos\r\n\r\nexport interface YoutubeVideoObj {\r\n  id: {\r\n    videoId: string;\r\n  };\r\n  snippet: {\r\n    publishedAt: any;\r\n    channelId: string;\r\n    channelTitle: string;\r\n    title;\r\n  };\r\n}\r\n\r\ninterface Props {\r\n  videoObj: YoutubeVideoObj;\r\n  channelTerm: string;\r\n  selectedChannel: string;\r\n  index: number;\r\n  selectedIndex: number;\r\n  onChannelClick: () => void;\r\n  globalVolume: number;\r\n}\r\n\r\ninterface State {\r\n  playbackRate: number;\r\n  seeking: boolean;\r\n  isShowing: boolean;\r\n}\r\n\r\nclass VideoItem extends React.Component<Props, State> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playbackRate: 1,\r\n      seeking: false,\r\n      isShowing: false\r\n    };\r\n  }\r\n\r\n  showPlayer = () => {\r\n    this.setState({ isShowing: true });\r\n  };\r\n\r\n  onPlaybackRateChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    // prevent value of NaN when input has emtpy string\r\n    this.setState({ playbackRate: parseFloat(event.target.value) || 1.0 });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      id: { videoId },\r\n      //snippet: { thumbnails: { high: { url: thumbnail }}, title}\r\n      snippet: { publishedAt, channelId, channelTitle, title }\r\n    } = this.props.videoObj;\r\n    let videoUrl = `https://www.youtube.com/watch?v=${videoId}`;\r\n\r\n    let mSet = new Set([0, 1, 2]);\r\n    const aposttropheRegex = /&#39;/gi;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <div>\r\n          <div>\r\n            {this.props.index == this.props.selectedIndex ? (\r\n              <h1> {title.replace(aposttropheRegex, \"'\")}</h1>\r\n            ) : (\r\n              <h1>{title.replace(aposttropheRegex, \"'\")} </h1>\r\n            )}\r\n          </div>\r\n          <ContentContainer>\r\n            <div\r\n              className=\"player-container\"\r\n              style={{\r\n                marginTop: \"1rem\",\r\n                marginBottom: \"2rem\",\r\n                marginLeft: \"2rem\",\r\n                marginRight: \"2rem\"\r\n              }}\r\n            >\r\n              {this.state.isShowing || mSet.has(this.props.index) ? (\r\n                <ReactPlayer\r\n                  url={videoUrl}\r\n                  playbackRate={this.state.playbackRate}\r\n                  controls={true}\r\n                  width={goldWidth}\r\n                  height={goldHeight}\r\n                  volume={this.props.globalVolume}\r\n                />\r\n              ) : (\r\n                <CustomButton onClick={this.showPlayer}> Play </CustomButton>\r\n              )}\r\n            </div>\r\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n              <div\r\n                className=\"speed-playback-container\"\r\n                style={{\r\n                  margin: \"1rem\"\r\n                }}\r\n              >\r\n                {(this.state.isShowing || mSet.has(this.props.index)) && (\r\n                  <SpeedInput\r\n                    placeholder=\"Speed\"\r\n                    type=\"text\"\r\n                    onChange={this.onPlaybackRateChange}\r\n                  />\r\n                )}\r\n              </div>\r\n              <div\r\n                className=\"channel-title-container\"\r\n                style={{\r\n                  margin: \"1rem\"\r\n                }}\r\n              >\r\n                <CustomButton2 onClick={this.props.onChannelClick}>\r\n                  {channelTitle}\r\n                </CustomButton2>\r\n                {/* <h1> {JSON.stringify(publishedAt, null, 2)}</h1> */}\r\n              </div>\r\n              <div\r\n                style={{\r\n                  margin: \"1rem\"\r\n                }}\r\n              >\r\n                {channelId == this.props.channelTerm &&\r\n                  this.props.selectedChannel && (\r\n                    <StyledLink to={process.env.PUBLIC_URL + \"/ChannelList\"}>\r\n                      Latest from {this.props.selectedChannel}\r\n                    </StyledLink>\r\n                  )}\r\n              </div>\r\n              <div\r\n                className=\"link-container\"\r\n                style={{\r\n                  margin: \"1rem\"\r\n                }}\r\n              >\r\n                <a href={videoUrl}> YT </a>\r\n              </div>\r\n            </div>\r\n          </ContentContainer>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoItem;\r\n\r\n/*\r\n{ Math.abs(this.props.index - this.props.selectedIndex) <= 1 && \r\n                <SpeedInput \r\n                  placeholder=\"Speed\"\r\n                  type=\"text\"\r\n                  onChange={this.onPlaybackRateChange}\r\n                />\r\n            }\r\n            <h2> channelId is {channelId}</h2>\r\n            <h2> currChannelTerm is {this.props.channelTerm}</h2>\r\n            :  <CustomButton onClick={this.props.onTodoClick}> Play </CustomButton>   \r\n\r\n            // this.props.onTodoClick dispatches a select video action\r\n*/\r\n","import React from \"react\";\r\nimport VideoItem from \"./VideoItem\";\r\nimport styled from \"styled-components\";\r\n// Create-react-app outputs a /build folder where the assets are served\r\n// so this is why gh-pages does a \"-d (irectory) build\" to get that /build foder\r\n// and push it to the remote gh-pages branch\r\n\r\n// style for react-router's Link\r\n\r\nconst CustomTitle = styled.h1`\r\n  text-align: center;\r\n  color: ${props => (props.green ? \"green\" : \"black\")};\r\n  font-size: ${props => (props.small ? \"1.3em\" : \"2.0em\")};\r\n`;\r\nconst MyInput = styled.input`\r\n  padding: 0.5em;\r\n  margin-right: 1rem;\r\n  margin-left: 5rem;\r\n  background: black;\r\n  color: white;\r\n  width: 100%;\r\n  height: 25px;\r\n  font-size: 22px;\r\n  border-radius: 1px;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst CenterDiv = styled.div`\r\n  display: inline-block;\r\n`;\r\nconst ListWrapper = styled.div`\r\n  margin: 20px;\r\n`;\r\n\r\nconst StyledLabel = styled.label`\r\n  display: block;\r\n`;\r\n\r\nconst SearchAndVolumeInputContainer = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst VolumeInputContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Youtube = props => {\r\n  const parseYoutubeVideoJSON = json => {\r\n    let videosList = json.items.map((obj, index) => {\r\n      // items prop of the youtube JSON returns array of objects\r\n      let currChannelId = obj.snippet.channelId;\r\n      let currChannelTitle = obj.snippet.channelTitle;\r\n      return (\r\n        <VideoItem\r\n          videoObj={obj}\r\n          index={index}\r\n          onTodoClick={() => props.onTodoClick(index)}\r\n          onChannelClick={() =>\r\n            props.onChannelClick(currChannelId, currChannelTitle)\r\n          }\r\n          selectedIndex={props.selectedIndex}\r\n          channelTerm={props.channelTerm}\r\n          selectedChannel={props.channelTitle}\r\n          listOfSelectedIndexes={props.listOfSelectedIndexes}\r\n          globalVolume={props.globalVolume}\r\n        />\r\n      );\r\n    });\r\n\r\n    return videosList;\r\n  };\r\n\r\n  return (\r\n    // this.props.wholeState[this.props.searchTerm] returns the videoJSON for that serachTerm\r\n    <div>\r\n      <pre>\r\n        <code>\r\n          <CenterDiv>\r\n            <CustomTitle small>searchTerm: {props.searchTerm}</CustomTitle>\r\n            <CustomTitle small>channelTitle: {props.channelTitle}</CustomTitle>\r\n            <CustomTitle small>\r\n              error: {JSON.stringify(props.error, null, 2)}\r\n            </CustomTitle>\r\n            <SearchAndVolumeInputContainer>\r\n              <MyInput\r\n                placeholder=\"Search\"\r\n                type=\"text\"\r\n                onChange={props.handleSearchTermChange}\r\n              />\r\n              <VolumeInputContainer>\r\n                <StyledLabel htmlFor=\"globalVolume\">Volume</StyledLabel>\r\n                <input\r\n                  id=\"globalVolume\"\r\n                  type=\"number\"\r\n                  min={0}\r\n                  max={1}\r\n                  onChange={e => {\r\n                    props.handleGlobalVolumeChange(e);\r\n                  }}\r\n                  step={0.1}\r\n                />\r\n              </VolumeInputContainer>\r\n            </SearchAndVolumeInputContainer>\r\n          </CenterDiv>\r\n          <ListWrapper>\r\n            {props.wholeState[props.searchTerm] &&\r\n              parseYoutubeVideoJSON(props.wholeState[props.searchTerm])}\r\n          </ListWrapper>\r\n        </code>\r\n      </pre>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Youtube;\r\n\r\n/*\r\n <h1> Not working yet Optional: Enter queryTerm (ie filter) for Youtube </h1>\r\n      <input type=\"text\" onChange={this.props.handleFilterTermChange} />\r\n      <button onClick={this.props.handleClick}> Go to next page  </button>\r\n       <h1> {JSON.stringify(this.props.wholeState, null, 2)} </h1>\r\n*/\r\n","import Youtube from \"../components/Youtube\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nfunction mapStateToProps(state) {\r\n  // fetchUser action will set the state username\r\n  return {\r\n    searchTerm: state.youtubeState.searchTerm,\r\n    filterTerm: state.youtubeState.filterTerm,\r\n    selectedIndex: state.youtubeState.selectedIndex,\r\n    listOfSelectedIndexes: state.youtubeState.listOfSelectedIndexes,\r\n    wholeState: state.youtubeState, //  // {username: \"redux-observable\", \"redux-observable\": jsonObj[\"created_at\"]}\r\n    error: state.youtubeState.error,\r\n    channelTerm: state.youtubeState.channelTerm,\r\n    channelTitle: state.youtubeState.channelTitle,\r\n    globalVolume: state.youtubeState.globalVolume,\r\n    dbState: state.dbState\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    handleClick(searchTerm) {\r\n      dispatch(actions.goToNextPage());\r\n    },\r\n\r\n    onTodoClick(index) {\r\n      // modify to select the correct channel\r\n      dispatch(actions.selectVideo(index));\r\n    },\r\n    onChannelClick(channelId, channelTitle) {\r\n      // change action creator to include title\r\n      dispatch(actions.setYoutubeChannelTerm(channelId, channelTitle));\r\n    },\r\n\r\n    handleSearchTermChange(event) {\r\n      // send off a setSearchTerm action\r\n      dispatch(actions.setYoutubeSearchTerm(event.target.value));\r\n    },\r\n\r\n    handleFilterTermChange(event) {\r\n      dispatch(actions.setFilterTerm(event.target.value));\r\n    },\r\n\r\n    handleGlobalVolumeChange(event) {\r\n      const globalVolume = parseFloat(event.target.value) || 1.0;\r\n      dispatch(actions.setYoutubeVolume(globalVolume));\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Youtube);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { fromEvent } from \"rxjs\";\r\n// import { interval } from 'rxjs/observable/interval';\r\nimport { takeUntil, switchMap, map } from \"rxjs/operators\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 1em;\r\n  color: black;\r\n  background: white;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  width: 50%;\r\n  background: ${props => (props.visible ? \"yellow\" : \"red\")};\r\n  top: ${props => (props.top ? props.top : \"0px\")};\r\n`;\r\n\r\nexport default class Drag extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: \"Initial\",\r\n      coordinates: \"0,0\",\r\n      myRef: null,\r\n      myDragRef: null,\r\n      myStyleObj: {\r\n        background: \"lightblue\",\r\n        top: \"500px\"\r\n      },\r\n      visible: true\r\n    };\r\n    // this.myDragRef = React.createRef()\r\n    this.getMyRef = this.getMyRef.bind(this);\r\n    this.getMyDragRef = this.getMyDragRef.bind(this);\r\n    this.onBtnClick = this.onBtnClick.bind(this);\r\n    //this.onBtn2Click = this.onBtn2Click.bind(this)\r\n  }\r\n\r\n  getMyRef(elem) {\r\n    this.setState({ myRef: elem });\r\n  }\r\n\r\n  getMyDragRef(elem) {\r\n    // drag me h1\r\n    this.setState({ myDragRef: elem });\r\n  }\r\n\r\n  onBtnClick() {\r\n    let docElem = this.state.myRef; // document element\r\n    let dragElem = this.state.myDragRef; // box to drag\r\n    let mouseDown$ = fromEvent(dragElem, \"mousedown\");\r\n    let mouseMove$ = fromEvent(docElem, \"mousemove\");\r\n    let mouseUp$ = fromEvent(docElem, \"mouseup\");\r\n\r\n    let source$ = mouseDown$.pipe(\r\n      switchMap(md => {\r\n        let startX = md.offsetX;\r\n        let startY = md.offsetY;\r\n\r\n        return mouseMove$.pipe(\r\n          map(mm => {\r\n            return {\r\n              left: mm.clientX - startX,\r\n              top: mm.clientY - startY\r\n            };\r\n          }),\r\n          takeUntil(mouseUp$)\r\n        );\r\n      })\r\n    );\r\n\r\n    source$.subscribe(posObj => {\r\n      this.setState({ coordinates: posObj.left + \",\" + posObj.top }); // for debugging\r\n      dragElem.style.color = posObj.left > 200 ? \"red\" : \"blue\";\r\n      dragElem.style.left = `${posObj.left}px`;\r\n      dragElem.style.top = `${posObj.top}px`;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={this.getMyRef} style={{ height: \"1000px\" }}>\r\n        <pre>\r\n          <code>\r\n            <h1 ref={this.getMyDragRef} style={this.state.myStyleObj}>\r\n              {\" \"}\r\n              Drag me\r\n            </h1>\r\n            <Title visible={this.state.visible}>\r\n              {\" \"}\r\n              {this.state.coordinates}{\" \"}\r\n            </Title>\r\n            <button onClick={this.onBtnClick}> start stream </button>\r\n          </code>\r\n        </pre>\r\n\r\n        <Link to=\"/\"> Home </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/*\r\n onBtnClick () {\r\n    let docElem = this.state.myRef\r\n    let mouseMove$ = fromEvent(docElem, 'mousemove')\r\n\r\n    mouseMove$.subscribe((event) => {\r\n      this.setState({ coordinates: event.clientX + \", \" + event.clientY})\r\n    })\r\n  }\r\n\r\n  const mouseup = fromEvent(target, 'mouseup');\r\nconst mousemove = fromEvent(document, 'mousemove');\r\nconst mousedown = fromEvent(target, 'mousedown');\r\n\r\nconst mousedrag = mousedown.selectMany((md) => {\r\n  const startX = md.clientX + window.scrollX,\r\n        startY = md.clientY + window.scrollY,\r\n        startLeft = parseInt(md.target.style.left, 10) || 0,\r\n        startTop = parseInt(md.target.style.top, 10) || 0;\r\n  \r\n  return mousemove.map((mm) => {\r\n    mm.preventDefault();\r\n    \r\n    return {\r\n      left: startLeft + mm.clientX - startX,\r\n      top: startTop + mm.clientY - startY\r\n    };\r\n  }).takeUntil(mouseup);\r\n});\r\n\r\nconst subscription = mousedrag.subscribe((pos) => {\r\n  target.style.top = pos.top + 'px';\r\n  target.style.left = pos.left + 'px';\r\n});\r\n*/\r\n","import Drag from \"../components/Drag\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    time: state.timerState.time,\r\n    wholeState: state.timerState\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    handleBtnClick() {\r\n      dispatch(actions.startTimer());\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Drag);\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport VideoItem from \"./VideoItem\";\r\nimport styled from \"styled-components\";\r\n\r\n// style for react-router's Link\r\nconst StyledLink = styled(Link)`\r\n  color: red;\r\n`;\r\n\r\nfunction getDebouncedFunction(fn, delayInMs) {\r\n  let timerId = undefined;\r\n\r\n  return (...args) => {\r\n    console.log(timerId);\r\n    console.log(\"clearing prev timeout\");\r\n\r\n    window.clearTimeout(timerId);\r\n\r\n    // set new timeout\r\n    timerId = window.setTimeout(() => {\r\n      // do I need to clear it here as well?\r\n      // but the this would be for the inner function if I don't use\r\n      // an anon function\r\n      console.log(\"now running the cb\");\r\n      fn.apply(this, args);\r\n    }, delayInMs);\r\n  };\r\n}\r\n\r\nconst ChannelList = props => {\r\n  const [queryTerm, setQueryTerm] = useState(\"\");\r\n\r\n  // Initializing the controlled component as undefined instead of an\r\n  // empty string shows the following warning and messes up the React render.\r\n  // https://stackoverflow.com/questions/50970793/react-warning-componentxxx-is-changing-an-uncontrolled-input-of-type-undefine\r\n  const [publishedAfterDateString, setPublishedAfterDateString] = useState(\"\");\r\n  const [publishedBeforeDateString, setPublishedBeforeDateString] = useState(\r\n    \"\"\r\n  );\r\n\r\n  const parseYoutubeVideoJSON = json => {\r\n    let videosList = json.items.map((obj, index) => {\r\n      // items prop of the youtube JSON returns array of objects\r\n      let currChannelId = obj.snippet.channelId;\r\n      let currChannelTitle = obj.snippet.channelTitle;\r\n\r\n      return (\r\n        <VideoItem\r\n          videoObj={obj}\r\n          index={index}\r\n          onTodoClick={() => props.onTodoClick(index)}\r\n          onChannelClick={() =>\r\n            props.onChannelClick(currChannelId, currChannelTitle)\r\n          }\r\n          selectedIndex={props.selectedIndex}\r\n          selectedChannel={props.channelTitle}\r\n          channelTerm={props.channelTerm}\r\n        />\r\n      );\r\n    });\r\n\r\n    return videosList;\r\n  };\r\n\r\n  // Something odd happened when using event as the argument with the synthetic React event\r\n  // It blew up because it said it was null? weird, just modify the argument\r\n  // to be the actual argument instead of the event\r\n  // Also note that if this function didn't take in a parameter, and its then memo-ed\r\n  // with useCallback(), it would close over queryTerm but the function would be memo-ed\r\n  // over the original empty string.\r\n  const handleSearchChannelVideos = queryValue => {\r\n    let optionalParametersObj = {\r\n      q: queryValue\r\n    };\r\n\r\n    props.handleSearchChannelVideos(props.channelTerm, optionalParametersObj);\r\n    // setQueryTerm(e.target.value);\r\n    // this was moved because we don't want to debounce the actual state query term update\r\n    // for the controlled component\r\n  };\r\n\r\n  const debouncedHandleQueryTermChange = getDebouncedFunction(\r\n    handleSearchChannelVideos,\r\n    600\r\n  );\r\n\r\n  // what happens if I don't memo this function?\r\n  // the callback will run always after keypress, instead of properly debouncing\r\n  // because? See article below\r\n  const memoedCb = useCallback(debouncedHandleQueryTermChange, []);\r\n\r\n  // https://stackoverflow.com/questions/47809666/lodash-debounce-not-working-in-react\r\n  // https://rajeshnaroth.medium.com/using-throttle-and-debounce-in-a-react-function-component-5489fc3461b3\r\n  const handleChange = e => {\r\n    setQueryTerm(e.target.value);\r\n\r\n    memoedCb(e.target.value);\r\n  };\r\n\r\n  const handleClickSearchVideos = () => {\r\n    // later add the query term if there is one\r\n    // YoutubeAPI needs the date time in a particular format\r\n    // This can be Number(undefined) which is NaN but the conditional spread\r\n    const publishedAfterYearNum = Number(publishedAfterDateString);\r\n    const publishedAfter = new Date(publishedAfterYearNum, 0, 1).toISOString(); // month is zero indexed\r\n\r\n    const publishedBeforeYearNum = Number(publishedBeforeDateString);\r\n    const publishedBefore = new Date(\r\n      publishedBeforeYearNum,\r\n      0,\r\n      1\r\n    ).toISOString();\r\n\r\n    let optionalParametersObj = {\r\n      // hardcode\r\n      ...(publishedAfterDateString\r\n        ? {\r\n            publishedAfter\r\n          }\r\n        : {}),\r\n      ...(publishedBeforeDateString\r\n        ? {\r\n            publishedBefore\r\n          }\r\n        : {})\r\n    };\r\n\r\n    props.handleSearchChannelVideos(props.channelTerm, optionalParametersObj);\r\n  };\r\n\r\n  return (\r\n    // this.props.wholeState[this.props.searchTerm] returns the videoJSON for that serachTerm\r\n    <div>\r\n      <pre>\r\n        <code>\r\n          <Link to={process.env.PUBLIC_URL + \"/Youtube\"}>\r\n            {\" \"}\r\n            Back to Youtube !\r\n          </Link>\r\n          <div style={{ marginTop: \"1rem\", marginLeft: \"2rem\" }}>\r\n            <input\r\n              style={{\r\n                padding: \"1rem\",\r\n                backgroundColor: \"black\",\r\n                color: \"white\"\r\n              }}\r\n              type=\"text\"\r\n              value={queryTerm}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"date-inputs-container\"\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              // the default for align-items is stretch so the button\r\n              // in this container is also stretched along the cross axis\r\n              // https://stackoverflow.com/questions/33212892/how-to-make-a-flex-item-not-fill-the-height-of-the-flex-container\r\n              alignItems: \"flex-end\"\r\n            }}\r\n          >\r\n            <div\r\n              className=\"published-after-container\"\r\n              style={{ display: \"flex\", flexDirection: \"column\" }}\r\n            >\r\n              <label for=\"publishedAfter\"> After (YYYY)</label>\r\n              <input\r\n                id=\"publishedAfter\"\r\n                type=\"text\"\r\n                value={publishedAfterDateString}\r\n                onChange={e => {\r\n                  setPublishedAfterDateString(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n            <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n              <label for=\"publishedBefore\"> Before (YYYY)</label>\r\n              <input\r\n                id=\"publishedBefore\"\r\n                type=\"text\"\r\n                value={publishedBeforeDateString}\r\n                onChange={e => {\r\n                  setPublishedBeforeDateString(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n            <button onClick={handleClickSearchVideos}> Search</button>\r\n          </div>\r\n          <div>\r\n            {props.wholeState[props.channelTerm]\r\n              ? parseYoutubeVideoJSON(props.wholeState[props.channelTerm])\r\n              : \"Please select a channel to view their latest videos\"}\r\n          </div>\r\n        </code>\r\n      </pre>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChannelList;\r\n","import ChannelList from \"../components/ChannelList\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nfunction mapStateToProps(state) {\r\n  // fetchUser action will set the state username\r\n  return {\r\n    searchTerm: state.youtubeState.searchTerm,\r\n    filterTerm: state.youtubeState.filterTerm,\r\n    selectedIndex: state.youtubeState.selectedIndex,\r\n    wholeState: state.youtubeState, //  // {username: \"redux-observable\", \"redux-observable\": jsonObj[\"created_at\"]}\r\n    error: state.youtubeState.error,\r\n    channelTerm: state.youtubeState.channelTerm\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    handleClick(searchTerm) {\r\n      dispatch(actions.goToNextPage());\r\n    },\r\n\r\n    onTodoClick(index) {\r\n      // modify to select the correct channel\r\n      dispatch(actions.selectVideo(index));\r\n    },\r\n    onChannelClick(channelId) {\r\n      dispatch(actions.setYoutubeChannelTerm(channelId));\r\n    },\r\n    // this is the ChannelList page's individual search through\r\n    // the specific channel's videos\r\n    handleSearchChannelVideos(channelId, optionalParametersObj = {}) {\r\n      console.log(\"handling search channel videos\");\r\n      console.log(channelId);\r\n      console.log(JSON.stringify(optionalParametersObj, null, 2));\r\n      const CHANNEL_TITLE = \"random\";\r\n      dispatch(\r\n        actions.setYoutubeChannelTerm(\r\n          channelId,\r\n          CHANNEL_TITLE,\r\n          optionalParametersObj\r\n        )\r\n      );\r\n    },\r\n\r\n    handleFilterTermChange(event) {\r\n      dispatch(actions.setFilterTerm(event.target.value));\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelList);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst CustomTitle = styled.h1`\r\n  text-align: ${props => (props.left ? \"left\" : \"center\")};\r\n  color: ${props => props.color};\r\n  font-size: ${props => props.fontsize + \"px\"};\r\n`;\r\nconst Wrapper = styled.div`\r\n  padding: 0.5em;\r\n  margin: 0.5em;\r\n  color: black;\r\n  width: ${props => props.width}\r\n  background: ${props => props.background};\r\n  font-size: ${props => props.fontsize};\r\n  border: 2px;\r\n`;\r\n\r\nconst InLineWrapper = styled.div`\r\n  display: inline-block;\r\n  padding: 0.5em;\r\n`;\r\n// Used as a presentational component\r\nclass TranslationList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <CustomTitle fontsize=\"30\">\r\n          {\" \"}\r\n          -- {this.props.translations.join(\" -- \")}{\" \"}\r\n        </CustomTitle>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default class Zi extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      myZiRef: null,\r\n      isShowingTranslations: true\r\n    };\r\n    this.getMyZiRef = this.getMyZiRef.bind(this);\r\n    this.toggleTranslations = this.toggleTranslations.bind(this);\r\n  }\r\n\r\n  getMyZiRef(elem) {\r\n    this.setState({ myZiRef: elem });\r\n  }\r\n\r\n  toggleTranslations() {\r\n    this.setState({ isShowingTranslations: !this.state.isShowingTranslations });\r\n  }\r\n\r\n  render() {\r\n    const { simplified, definitions } = this.props.itemObj;\r\n\r\n    let valsArr = Object.values(definitions);\r\n\r\n    // Extract and render the pinyin and the TranslationsList\r\n    let valsExtracted = valsArr.map(valObj => {\r\n      const { pinyin, translations } = valObj;\r\n      return (\r\n        <div>\r\n          <InLineWrapper>\r\n            <CustomTitle fontsize=\"40\" left>\r\n              {\" \"}\r\n              {pinyin}{\" \"}\r\n            </CustomTitle>\r\n          </InLineWrapper>\r\n          <InLineWrapper>\r\n            {this.state.isShowingTranslations && (\r\n              <TranslationList translations={translations} />\r\n            )}\r\n          </InLineWrapper>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <Wrapper background=\"lightgrey\" width=\"200\" fontsize=\"30\">\r\n        <div>\r\n          <InLineWrapper>\r\n            <button onClick={this.toggleTranslations}>\r\n              {\" \"}\r\n              Toggle {this.props.index}{\" \"}\r\n            </button>\r\n            <CustomTitle fontsize=\"75\" ref={this.getMyZiRef}>\r\n              {\" \"}\r\n              {simplified}\r\n            </CustomTitle>\r\n          </InLineWrapper>\r\n          <InLineWrapper>{valsExtracted}</InLineWrapper>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Zi from \"./Zi\";\r\n\r\nconst CustomInput = styled.input`\r\n  height: ${props => props.height};\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 1em;\r\n  margin: 1em;\r\n  color: black;\r\n  background: lightblue;\r\n  border: 4px;\r\n`;\r\ninterface Props {\r\n  langSetting: string;\r\n  term: string;\r\n  onTermChange: () => void;\r\n  translateState: any;\r\n}\r\n\r\ninterface State {\r\n  isSimplified: boolean;\r\n}\r\n\r\n// need my input search which sends off a SET_TRANSLATE_TERM\r\nexport class Translate extends Component<Props, State> {\r\n  state = {\r\n    isSimplified: true\r\n  };\r\n\r\n  // constructor(props) {\r\n  //   super(props)\r\n  //   this.renderListOfZi = this.renderListOfZi.bind(this)\r\n  //   this.state = {\r\n  //     simplified: true\r\n  //   }\r\n  // }\r\n\r\n  renderListOfZi = (jsonArr: any[]) => {\r\n    // pass in Zi's props\r\n    return jsonArr.map((itemObj, index) => {\r\n      // each item is an obj\r\n      return <Zi itemObj={itemObj} index={index} />;\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // render only this.props.translateState[this.props.translateState.term]\r\n    return (\r\n      <Wrapper>\r\n        <div>\r\n          <h1> Mandarin to English (in progress)</h1>\r\n          <h1> 在雷霆他每次进攻大概要面对两个人的防守 </h1>\r\n          <h1>\r\n            {\" \"}\r\n            On the Thunder, he (Kevin Durant) had to always face two defeneders{\" \"}\r\n          </h1>\r\n          <h1> curr setting is {this.props.langSetting} </h1>\r\n          <h1> curr term is {this.props.term} </h1>\r\n          <CustomInput\r\n            height=\"80px\"\r\n            type=\"text\"\r\n            placeholder=\"Translate\"\r\n            onChange={this.props.onTermChange}\r\n          />\r\n          <ol>\r\n            {this.props.translateState[this.props.term] &&\r\n              this.renderListOfZi(this.props.translateState[this.props.term])}\r\n          </ol>\r\n          <pre>\r\n            <code>\r\n              <h1>{JSON.stringify(this.props.translateState, null, 2)}</h1>\r\n            </code>\r\n          </pre>\r\n          <Link to=\"/\"> Home </Link>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n","import { Translate } from \"../components/Translate\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    translateState: state.translateState,\r\n    term: state.translateState.term\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    onTermChange(event) {\r\n      dispatch(actions.setTranslateTerm(event.target.value));\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Translate);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n// https://github.com/sb2nov/resume/blob/master/sourabh_bajaj_resume.tex\r\nconst Wrapper = styled.div`\r\n  flex-direction: row;\r\n  margin: 1em;\r\n  color: black;\r\n  background: #f0f0f0;\r\n  border: 4px;\r\n  justify-content: start;\r\n`;\r\n\r\nexport class Blog extends React.Component {\r\n  getPost() {\r\n    return `Add Typescript to your Create React App project \r\n    1) Create a tsconfig.json file. \r\n\r\n    2) Add @types definitions for all the libraries that you are using into your package.json file.\r\n    \r\n    I added these directly into package.json, copy-pasting from \"dependencies\" to devDependies\"\r\n\r\n    package.json shows library such as \"react-dom\": \"^16.8.6\" in \"dependencies\".\r\n    Add the type definition \"@types/react-dom\": \"^16.8.6\" to \"devDependencies\".\r\n\r\n    You can also add the @types on the command line with npm or yarn\r\n    npm install --save typescript @types/node @types/react @types/react-dom @types/jest etc...\r\n    yarn add typescript @types/node @types/react @types/react-dom @types/jest\r\n    3) Rename all files to .tsx (I had issues if I re-named to .ts)\r\n    \r\nSolving errors:    \r\nREDUX_DEVTOOLS_EXTENSTION on window object \r\n// const composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && (window as any).__REDUX_DEVTOOLS_EXTENSION__() || compose;\r\n    \r\nTypeScript error: Parameter 'state' implicitly has an 'any' type. \r\n\r\n// Add \"strict\": false to \"compilerOptions\" in the tsconfig.json file\r\n  \r\nReact Router error: can't use Route or WithRouter outside <Router/>\r\n\r\nI was using a <ScrollToTop /> component that used WithRouter() to move the window back up (instead of staying stuck in the middle of a page after\r\nclicking on a link). Removed it and will find a solution later.\r\n\r\nUnrelated: Installed eslint and prettier VSCode extensions, added prettier\r\nand eslint-plugin-prettier to devDependencies in package.json, created an\r\n.eslintrc file and then VS Code Files -> Preferences -> Settings and set \"formatOnSave\" to true \r\nby checking the box. \r\n\r\nUse git bash for \"npm install, npm start, npm run build, and npm run deploy\" to dpeloy to \r\ngh pages; there's an error when using the Node.js command prompt (path variable?)\r\n\r\nReact Router - the component re-render is blocked despite a location\r\nchange because the shouldComponentUpdate (which decides whether to re-render if the new state/props are different from the current state/props) doesn't detect\r\na change after navigating to a new Link. \r\n1) Find a solution to this update-blocking: https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md\r\n`;\r\n  }\r\n\r\n  getPostTwo = () => {\r\n    return `\r\n    TIL series:\r\n\r\n    Optimistic UI with Apollo Client\r\n\r\n    \"yarn build\" and then \"yarn run deploy\", a script that just runs \"\"gh-pages -d build\" to deploy from any branch with gh-pages. \r\n    gh-pages creates the \"gh-pages branch\" from the built code, up to you to push commits up to Github using the usual git flow \r\n    \"git add .\", \"git commit -m \"My msg\", \"git push origin X-branch\".\r\n\r\n    Puppeteer\r\n\r\n    GH Pages routing for CRA app: https://github.com/facebook/create-react-app/issues/1765\r\n    \r\nUse process.env.PUBLIC_URL in React Router's <Route /> and <Link /> \r\nwhen deploying via Github Pages so that development and production routing works correctly\r\n\r\n<Link to={process.env.PUBLIC_URL + '/'}>\r\n\r\n<Route path={process.env.PUBLIC_URL + '/'}>\r\n\r\n    `;\r\n  };\r\n\r\n  getPostThree = () => {\r\n    return `\r\n    Site wasn't compiling locally; had to bump react-scripts, add env variables and re-download Node\r\n    `;\r\n  };\r\n\r\n  getPostFour = () => {\r\n    return `\r\n    https://github.com/jakearchibald/idb#examples\r\n    \r\n    https://blog.logrocket.com/detailed-look-basic-sqljs-features/\r\n\r\n    https://github.com/jlongster/absurd-example-project\r\n\r\n    https://jlongster.com/future-sql-web\r\n\r\n    https://github.com/sql-js/sql.js\r\n\r\n    https://github.com/jlongster/absurd-sql\r\n\r\n    https://github.com/sql-js/react-sqljs-demo/blob/master/src/App.js\r\n\r\n    First I want to set up a basic sql.js database (which doesn't persist)\r\n    and after follow James Long's absurd-sql project.\r\n\r\n    Need to download the .wasm file, and went to the LogRocket blog post to \r\n    first download it. Add it to project. \r\n\r\n    Follow the blog post and do \"yarn add @jlongster/sql.js absurd-sql\", well\r\n    here add with npm to my package.json I think.\r\n    `;\r\n  };\r\n\r\n  getPostFive = () => {\r\n    return `\r\n    1) Create new github account \r\n    https://docs.github.com/en/get-started/importing-your-projects-to-github/importing-source-code-to-github/adding-locally-hosted-code-to-github\r\n\r\n    2) Wanted to clone my 'frame' repo locally into a new folder/directory (copy_frame)\r\n    for the new github user \r\n\r\n    3) Did so by doing \"git clone path/to/source/folder path/to/destination/folder\"\r\n\r\n    https://stackoverflow.com/questions/21045061/git-clone-from-another-directory\r\n\r\n    4) Then wanted to make cloned folder (copy_frames) a git repo\r\n    so did 'git init'\r\n\r\n    5) When adding the changes, a message said that there was already a git directory inside (i.e.\r\n      a git submodule). Followed the steps to delete and remove the original git linkages/stuff in the 'frame' folder (copy_frame/frame)\r\n      that was cloned.\r\n\r\n      Ran 'rm -rf .git' \r\n\r\n      and then checked there was no longer git linkage with 'git remote -v'\r\n\r\n      https://stackoverflow.com/questions/1213430/how-to-fully-delete-a-git-repository-created-with-init/1213449#1213449\r\n\r\n    6) Made the cloned frame folder a git repo with 'git init'\r\n\r\n    7) Created the github repo 'ryx111.github.io'\r\n      per the steps in Creating a GH page.\r\n\r\n    https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site\r\n      \r\n      8) Added all the local changes in the new folder with 'git add .' and 'git commit'\r\n\r\n      Set the corresponding upstream to push to.\r\n\r\n      9) Was running into issues where running 'git push origin master' failed due to access\r\n      and because it was using the other github account's credentials and I wanted to use the new github user.\r\n\r\n      10) Went to Windows Credential Manager to remove the saved github credentials from the other account\r\n\r\n      11) https://stackoverflow.com/questions/13103083/how-do-i-push-to-github-under-a-different-username\r\n\r\n      \"git config remote.origin.url https://different_user@github.com/different_user/repo.git\"\r\n\r\n      did the job to use the password for the new user.\r\n\r\n      12) Set up the personal access token for the Github user and used it\r\n      https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\r\n\r\n      13) Now was able to push the local files to the Github repo.\r\n\r\n      14) Rest was the standard deployment, and setting the publishing source of the project to the 'gh-pages' branch\r\n      that was created when doing 'yarn install', 'yarn build' and then 'yarn deploy'.\r\n\r\n      15) Also note that I updated the package.json to use the new URL as well (ryx111.github.io)\r\n\r\n      16) Rewrite history correctly\r\n\r\n      https://stackoverflow.com/questions/3042437/how-to-change-the-commit-author-for-a-single-commit\r\n    `;\r\n  };\r\n\r\n  mapToPost = (text: string): JSX.Element => {\r\n    // Split by regex of 2 spaces or more\r\n    let paragraphs: string[] = text.split(/\\s{2,}/);\r\n    let results: JSX.Element[] = paragraphs.map(p => {\r\n      return <p> {p} </p>;\r\n    });\r\n    return <Wrapper>{results}</Wrapper>;\r\n  };\r\n\r\n  render() {\r\n    const postOne: string = this.getPost();\r\n    const postTwo: string = this.getPostTwo();\r\n    const postThree: string = this.getPostThree();\r\n    const postFour: string = this.getPostFour();\r\n    return (\r\n      <>\r\n        {this.mapToPost(postOne)}\r\n        {this.mapToPost(postTwo)}\r\n        {this.mapToPost(postThree)}\r\n        {this.mapToPost(postFour)}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","interface Crime {\r\n  address: string;\r\n  beat: string;\r\n  cdatetime: string;\r\n  crimedescr: string;\r\n  district: number;\r\n  grid: number;\r\n  ucr_ncic_code: number;\r\n  longitude: number;\r\n  latitude: number;\r\n}\r\n\r\nconst getCrimeText = (crime: Crime) => {\r\n  const {\r\n    address,\r\n    beat,\r\n    cdatetime,\r\n    crimedescr,\r\n    district,\r\n    grid,\r\n    ucr_ncic_code,\r\n    longitude,\r\n    latitude\r\n  } = crime;\r\n  const stringValues = `${address}${beat}${cdatetime}${crimedescr}`.toUpperCase();\r\n  const numbersToStrings = `${String(district)} ${String(grid)} ${String(\r\n    grid\r\n  )} ${String(ucr_ncic_code)} ${String(longitude)} ${String(\r\n    latitude\r\n  )}`.toUpperCase();\r\n\r\n  return `${stringValues}${numbersToStrings}`;\r\n};\r\n\r\nexport const getCrimesFilteredBySearchTerm = (\r\n  allCrimes: Crime[],\r\n  searchTerm: string | undefined\r\n): Crime[] => {\r\n  const hasSearchTerm = searchTerm !== undefined && searchTerm !== \"\";\r\n\r\n  if (!hasSearchTerm) {\r\n    return [];\r\n  }\r\n\r\n  // Normalized search term\r\n  const searchTermFilter = hasSearchTerm\r\n    ? searchTerm!.toUpperCase().trim()\r\n    : \"\";\r\n\r\n  const filteredCrimes = hasSearchTerm\r\n    ? allCrimes.filter(crime => {\r\n        let isMatchForSearchTerm = getCrimeText(crime).includes(\r\n          searchTermFilter\r\n        );\r\n        return isMatchForSearchTerm;\r\n      })\r\n    : [];\r\n\r\n  return filteredCrimes;\r\n};\r\n","import React, { useState, createContext, useContext } from \"react\";\r\nimport { Table, Column, AutoSizer, SortDirection } from \"react-virtualized\";\r\nimport \"react-virtualized/styles.css\";\r\nimport dataObj from \"../Sacramento_Crime_JSON.json\";\r\nimport _ from \"lodash\";\r\nimport styled from \"styled-components\";\r\n// import { Typography, TextField, Button } from \"@material-ui/core\";\r\nimport { getCrimesFilteredBySearchTerm } from \"./utils\";\r\n\r\nconst AppContext = createContext<{ crimes: Crime[] }>(dataObj);\r\n\r\nconst SearchBarContainer = styled.div`\r\n  display: flex;\r\n  width: 70%;\r\n  justify-content: space-evenly;\r\n`;\r\n\r\nconst StyledTextField = styled.input`\r\n  width: 90%;\r\n`;\r\n\r\nconst TableContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\ninterface Crime {\r\n  address: string;\r\n  beat: string;\r\n  cdatetime: string;\r\n  crimedescr: string;\r\n  district: number;\r\n  grid: number;\r\n  ucr_ncic_code: number;\r\n  longitude: number;\r\n  latitude: number;\r\n}\r\n\r\nconst dataKeyLabelMap = {\r\n  address: \"Address\",\r\n  beat: \"Beat\",\r\n  cdatetime: \"Date Time\",\r\n  crimedescr: \"Description\",\r\n  district: \"District\",\r\n  grid: \"Grid\",\r\n  ucr_ncic_code: \"UCR NCIC\",\r\n  longitude: \"Longitude\",\r\n  latitude: \"Latitude\"\r\n};\r\n\r\nconst dataKeyWidthMap = {\r\n  address: 700,\r\n  beat: 250,\r\n  cdatetime: 400,\r\n  crimedescr: 700,\r\n  district: 250,\r\n  grid: 250,\r\n  ucr_ncic_code: 300,\r\n  longitude: 400,\r\n  latitude: 400\r\n};\r\n\r\nexport const CrimeTable = () => {\r\n  const { crimes: allCrimes } = useContext(AppContext);\r\n\r\n  // Crime results to show for the current search term\r\n  const [crimes, setCrimes] = useState<Crime[] | undefined>(undefined);\r\n\r\n  const [searchTerm, setSearchTerm] = useState<string | undefined>(undefined);\r\n\r\n  const [sortBy, setSortBy] = useState<keyof Crime>(\"cdatetime\");\r\n\r\n  const [sortDirection, setSortDirection] = useState<any>(SortDirection.ASC);\r\n\r\n  const [showEmptySearchTermMessage, setShowEmptySearchTermMessage] = useState<\r\n    boolean\r\n  >(false);\r\n\r\n  // TODO: debounce\r\n  const handleSearchTermChange = event => {\r\n    setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const _sortList = ({ sortBy, sortDirection }) => {\r\n    let newCrimes = _.orderBy(\r\n      crimes,\r\n      [sortBy],\r\n      [sortDirection === SortDirection.ASC ? \"asc\" : \"desc\"]\r\n    );\r\n\r\n    return newCrimes;\r\n  };\r\n\r\n  const _sort = ({ sortBy, sortDirection }) => {\r\n    const sortedList = _sortList({ sortBy, sortDirection });\r\n    setSortBy(sortBy);\r\n    setSortDirection(sortDirection);\r\n    setCrimes(sortedList as Crime[]);\r\n  };\r\n\r\n  // Normally make the API call here to query results\r\n  // instead of filtering client side from React context (global state)\r\n  const handleButtonClick = async () => {\r\n    const hasSearchTerm = searchTerm !== undefined && searchTerm !== \"\";\r\n\r\n    if (!hasSearchTerm) {\r\n      setShowEmptySearchTermMessage(true);\r\n      return;\r\n    }\r\n\r\n    if (hasSearchTerm && showEmptySearchTermMessage === true) {\r\n      setShowEmptySearchTermMessage(false);\r\n    }\r\n\r\n    const filteredCrimes = getCrimesFilteredBySearchTerm(allCrimes, searchTerm);\r\n\r\n    const sortedCrimes = _.orderBy(\r\n      filteredCrimes,\r\n      [sortBy],\r\n      [sortDirection === SortDirection.ASC ? \"asc\" : \"desc\"]\r\n    );\r\n\r\n    setCrimes(sortedCrimes);\r\n  };\r\n\r\n  // TODO: Move Search bar and button into own componentt\r\n  return (\r\n    <AppContext.Provider value={dataObj}>\r\n      <>\r\n        <SearchBarContainer>\r\n          <StyledTextField\r\n            id=\"standard-search\"\r\n            // type=\"search\"\r\n            // variant=\"outlined\"\r\n            value={searchTerm}\r\n            onChange={handleSearchTermChange}\r\n          />\r\n          <button onClick={handleButtonClick}>Search</button>\r\n        </SearchBarContainer>\r\n\r\n        {showEmptySearchTermMessage && (\r\n          <h5>Please enter a query with one or more characters.</h5>\r\n        )}\r\n\r\n        {crimes && (\r\n          <h5>\r\n            {crimes ? crimes.length : 0} out of {allCrimes.length} records match\r\n            the current query.\r\n          </h5>\r\n        )}\r\n\r\n        <TableContainer>\r\n          <div style={{ height: 800, width: 2000 }}>\r\n            <AutoSizer>\r\n              {({ height, width }) => (\r\n                <Table\r\n                  width={width}\r\n                  height={height}\r\n                  headerHeight={60}\r\n                  rowHeight={60}\r\n                  overscanRowCount={30}\r\n                  sort={_sort}\r\n                  sortBy={sortBy}\r\n                  sortDirection={sortDirection}\r\n                  rowCount={crimes ? crimes.length : 0}\r\n                  rowGetter={({ index }) =>\r\n                    crimes ? crimes[index] : undefined\r\n                  }\r\n                >\r\n                  {Object.keys(dataKeyLabelMap).map(dataKey => {\r\n                    const label = dataKeyLabelMap[dataKey];\r\n                    const width = dataKeyWidthMap[dataKey];\r\n                    return (\r\n                      <Column width={width} label={label} dataKey={dataKey} />\r\n                    );\r\n                  })}\r\n                </Table>\r\n              )}\r\n            </AutoSizer>\r\n          </div>\r\n        </TableContainer>\r\n      </>\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n","import React, { FunctionComponent } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst SideBarContainer = styled.div`\r\n  position: absolute;\r\n  right: 0px;\r\n  max-height: 90%;\r\n  z-index: 100;\r\n`;\r\n\r\nconst SideBarContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 400px;\r\n  position: relative;\r\n  background-color: lightgray;\r\n  max-height: inherit;\r\n  overflow: scroll;\r\n`;\r\n\r\nconst ColumnContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  padding: 1rem;\r\n`;\r\n\r\nconst Flex = styled.div`\r\n  display: flex;\r\n`;\r\n\r\ninterface LabelValueMapForFeature {\r\n  [label: string]: string;\r\n}\r\n\r\ninterface Props {\r\n  labelValueMapForFeature: LabelValueMapForFeature;\r\n}\r\n\r\nexport const CrimeDetailsContainer: FunctionComponent<Props> = ({\r\n  labelValueMapForFeature\r\n}) => {\r\n  return (\r\n    <SideBarContainer>\r\n      <SideBarContent>\r\n        <Flex>\r\n          <ColumnContainer>\r\n            {Object.keys(labelValueMapForFeature).map(label => {\r\n              return <Typography>{label}</Typography>;\r\n            })}\r\n          </ColumnContainer>\r\n          <ColumnContainer>\r\n            {Object.keys(labelValueMapForFeature).map(label => {\r\n              const value = labelValueMapForFeature[label];\r\n              return <Typography>{value}</Typography>;\r\n            })}\r\n          </ColumnContainer>\r\n        </Flex>\r\n      </SideBarContent>\r\n    </SideBarContainer>\r\n  );\r\n};\r\n","import React, { useRef, useMemo, useEffect, useState } from \"react\";\r\nimport mapboxgl, { MapboxOptions, LngLatLike } from \"mapbox-gl\";\r\nimport styled from \"styled-components\";\r\nimport { CrimeDetailsContainer } from \"./CrimeDetailsContainer\";\r\n\r\nconst DEFAULT_MAP_LOCATION: LngLatLike = [-121.478851, 38.575764];\r\nconst SACRAMENTO_CRIME_LAYER_ID = \"sacramento-crime-january-2006\";\r\n\r\n// TODO: Use Credstash client\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoiY2F0cGFhayIsImEiOiJjazZqY2lseHowYWowM2psaG04MXFpMzJhIn0.bXnTBzT1mIIvyIjlm8C5kQ\";\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  margin: 1rem;\r\n`;\r\n\r\nenum MapStyle {\r\n  Dark = \"mapbox://styles/catpaak/ck6nz45zy185x1hmnvp0ioomi\"\r\n}\r\n\r\nconst MapContainer = styled.div`\r\n  width: 100%;\r\n  height: 95%;\r\n`;\r\n\r\nconst MapElement = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst getLabelValueMapForFeature = (feature: mapboxgl.MapboxGeoJSONFeature) => {\r\n  const {\r\n    address,\r\n    beat,\r\n    cdatetime,\r\n    crimedescr,\r\n    district,\r\n    grid,\r\n    ucr_ncic_code\r\n  } = feature!.properties!;\r\n\r\n  return {\r\n    Address: address,\r\n    Beat: beat,\r\n    Date: cdatetime,\r\n    Descr: crimedescr,\r\n    District: district,\r\n    Grid: grid,\r\n    UCR: ucr_ncic_code\r\n  };\r\n};\r\n\r\nexport const CrimeMap = () => {\r\n  const containerRef = useRef<string | HTMLDivElement>(\"\");\r\n  const [mapboxMap, setMapboxMap] = useState<mapboxgl.Map>();\r\n  // // useEffect uses Object.Is for comparison (i.e. comparing reference)\r\n  const memoizedMapboxMap = useMemo(() => mapboxMap, [mapboxMap]);\r\n\r\n  const [searchTerm, setSearchTerm] = useState<string | undefined>(undefined);\r\n  const [selectedFeature, setSelectedFeature] = useState<\r\n    mapboxgl.MapboxGeoJSONFeature | undefined\r\n  >(undefined);\r\n\r\n  useEffect(() => {\r\n    if (containerRef.current) {\r\n      const options: MapboxOptions = {\r\n        container: containerRef.current,\r\n        // can move into state for a toggle later\r\n        style: MapStyle.Dark,\r\n        center: DEFAULT_MAP_LOCATION,\r\n        zoom: 10.75\r\n      };\r\n      const map = new mapboxgl.Map(options);\r\n\r\n      map.addControl(\r\n        new mapboxgl.NavigationControl({ showCompass: false }),\r\n        \"top-left\"\r\n      );\r\n\r\n      map.on(\"load\", () => {\r\n        setMapboxMap(map);\r\n      });\r\n\r\n      map.on(\"click\", SACRAMENTO_CRIME_LAYER_ID, ({ features }) => {\r\n        if (features && features.length > 0) {\r\n          const [firstFeature] = features;\r\n          setSelectedFeature(firstFeature);\r\n        }\r\n      });\r\n\r\n      map.on(\"mouseenter\", SACRAMENTO_CRIME_LAYER_ID, () => {\r\n        map.getCanvas().style.cursor = \"pointer\";\r\n      });\r\n\r\n      map.on(\"mouseleave\", SACRAMENTO_CRIME_LAYER_ID, () => {\r\n        map.getCanvas().style.cursor = \"\";\r\n      });\r\n    }\r\n  }, [containerRef]);\r\n\r\n  if (memoizedMapboxMap) {\r\n    // https://stackoverflow.com/questions/46122192/mapbox-style-property-according-to-zoom-and-property\r\n    memoizedMapboxMap.setPaintProperty(\r\n      SACRAMENTO_CRIME_LAYER_ID,\r\n      \"circle-radius\",\r\n      [\r\n        \"interpolate\",\r\n        [\"exponential\", 2],\r\n        [\"zoom\"],\r\n        0,\r\n        0,\r\n        20,\r\n        [\"get\", \"pixelRadius\"]\r\n      ]\r\n    );\r\n  }\r\n\r\n  // TODO: debounce\r\n  const handleSearchTermChange = event => {\r\n    setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const crimesFilter = useMemo(() => {\r\n    const norrmalizedSearchTerm =\r\n      searchTerm && searchTerm.toUpperCase().trim()\r\n        ? searchTerm.toUpperCase().trim()\r\n        : \"\";\r\n\r\n    // Check if Criime[k in keyof Crime].includes(normalizedSearchTerm)\r\n    // Written out entirely for clarity\r\n    const searchTermFilterExp = searchTerm\r\n      ? [\r\n          \"any\",\r\n          [\"==\", [\"in\", norrmalizedSearchTerm, [\"get\", \"address\"]], true],\r\n          [\"==\", [\"in\", norrmalizedSearchTerm, [\"get\", \"beat\"]], true],\r\n          [\"==\", [\"in\", norrmalizedSearchTerm, [\"get\", \"cdatetime\"]], true],\r\n          [\"==\", [\"in\", norrmalizedSearchTerm, [\"get\", \"crimedescr\"]], true],\r\n          [\"==\", [\"in\", norrmalizedSearchTerm, [\"get\", \"district\"]], true],\r\n          [\"==\", [\"in\", norrmalizedSearchTerm, [\"get\", \"grid\"]], true],\r\n          [\"==\", [\"in\", norrmalizedSearchTerm, [\"get\", \"ucr_ncic_code\"]], true]\r\n        ]\r\n      : [];\r\n\r\n    return [\"all\", searchTermFilterExp].filter(x => {\r\n      return x.length > 0;\r\n    });\r\n  }, [searchTerm]);\r\n\r\n  if (memoizedMapboxMap) {\r\n    memoizedMapboxMap.setFilter(SACRAMENTO_CRIME_LAYER_ID, crimesFilter);\r\n  }\r\n\r\n  // When a user clicks on the map, on a spot without a clickable element, the current\r\n  // selected item is deselected.\r\n  useEffect(() => {\r\n    if (memoizedMapboxMap) {\r\n      const handler = ({\r\n        point\r\n      }: mapboxgl.MapMouseEvent & mapboxgl.EventData) => {\r\n        const renderedFeaturesAtPoint = memoizedMapboxMap.queryRenderedFeatures(\r\n          point,\r\n          {\r\n            layers: [SACRAMENTO_CRIME_LAYER_ID]\r\n          }\r\n        );\r\n        if (!renderedFeaturesAtPoint.length) {\r\n          setSelectedFeature(undefined);\r\n        }\r\n      };\r\n      memoizedMapboxMap.on(\"click\", handler);\r\n      return () => {\r\n        memoizedMapboxMap.off(\"click\", handler);\r\n      };\r\n    }\r\n    return;\r\n  }, [memoizedMapboxMap]);\r\n\r\n  const labelValueMapForFeature = selectedFeature\r\n    ? getLabelValueMapForFeature(selectedFeature)\r\n    : {};\r\n\r\n  return (\r\n    <Container>\r\n      <StyledInput\r\n        placeholder=\"Search\"\r\n        onChange={handleSearchTermChange}\r\n        value={searchTerm}\r\n      />\r\n      <MapContainer>\r\n        {selectedFeature && (\r\n          <CrimeDetailsContainer\r\n            labelValueMapForFeature={labelValueMapForFeature}\r\n          />\r\n        )}\r\n        <MapElement\r\n          ref={el => {\r\n            if (el !== null) {\r\n              containerRef.current = el;\r\n            }\r\n          }}\r\n        />\r\n      </MapContainer>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, FunctionComponent } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport imageUrlsJSON from \"./choe.json\";\r\nimport hrefObjectsJSON from \"./choe_hrefs.json\";\r\nimport videosJSON from \"./choe_videos.json\";\r\nimport { Link, Switch, Route } from \"react-router-dom\";\r\n\r\n// Remove the Twitter emojis and profile pic images which aren't needed\r\nconst emojiRegex = /emoji/;\r\nconst profileImageRegex = /profile_images/;\r\n\r\n// make a set yeah could just do it here for now or for the processing.\r\n// Example url as name=something\r\n// should make it large\r\n\r\n// https://pbs.twimg.com/media/EUdf40pUMAE0g-_?format=jpg&name=small\r\n\r\n// TODO: Virtualize the lists\r\n\r\n// newSize as either 'small', 'medium', large\r\nconst getNewSizeUrl = (prevUrl, newSize) => {\r\n  let newUrl;\r\n  if (prevUrl.endsWith(\"small\")) {\r\n    newUrl = prevUrl.slice(0, prevUrl.length - 5) + newSize;\r\n  }\r\n  if (prevUrl.endsWith(\"medium\")) {\r\n    newUrl = prevUrl.slice(0, prevUrl.length - 6) + newSize;\r\n  }\r\n  if (prevUrl.endsWith(\"large\")) {\r\n    newUrl = prevUrl.slice(0, prevUrl.length - 5) + newSize;\r\n  }\r\n  return newUrl;\r\n};\r\n\r\nconst StyledVideo = styled.video`\r\n  display: flex;\r\n  width: 50%;\r\n  height: 50%;\r\n  background-color: black;\r\n  margin: 2rem 2rem;\r\n`;\r\n\r\n// Removing the say 360x360 stuff at the end makes the image bigger\r\n// look into what this means: https://pbs.twimg.com/media/EUEEeVnU8AAYz4q?format=jpg\r\n\r\nexport const Puppet = props => {\r\n  const filteredUrlsJSON = imageUrlsJSON.slice(0, 200).filter(url => {\r\n    return !(emojiRegex.test(url) || profileImageRegex.test(url));\r\n  });\r\n\r\n  const urlSet = new Set(filteredUrlsJSON);\r\n\r\n  const urlsArr = Array.from(urlSet);\r\n\r\n  const [urls, setUrls] = useState<string[]>(urlsArr);\r\n\r\n  // hardcoded to medium for now\r\n  const handleClick = (i, newSize: string) => {\r\n    const newUrls = [...urls];\r\n    let oldUrl = urls[i];\r\n    let newUrl = getNewSizeUrl(oldUrl, newSize);\r\n    newUrls[i] = newUrl;\r\n\r\n    setUrls(newUrls);\r\n  };\r\n\r\n  console.log(props);\r\n\r\n  return (\r\n    <>\r\n      {urls.map((url, index) => {\r\n        return (\r\n          <CustomImage\r\n            key={index}\r\n            url={urls[index]}\r\n            index={index}\r\n            onClick={handleClick}\r\n          />\r\n        );\r\n      })}\r\n      <ul>\r\n        {videosJSON.map(videoURLObj => {\r\n          const { url, poster } = videoURLObj;\r\n          return (\r\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video\r\n            // Preload attribute as? hint to browser. can be one of \"none\" | \"metadata\" | \"auto\", spec\r\n            // recommends metadata. Saw this because Twitter has it as none but Instagram has it as \"metadata\"\r\n            // only fetches things like length, which is what MDN says specs recommend\r\n            // Poster attribute is what's shown (or until the first frame of the video is DLed)\r\n            <StyledVideo src={url} poster={poster} controls preload=\"metadata\">\r\n              <p> fallback</p>\r\n            </StyledVideo>\r\n          );\r\n        })}\r\n      </ul>\r\n      <HrefsList\r\n        hrefObjectsJSON={hrefObjectsJSON.filter(o => !o.href.startsWith(\"/\"))}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst StyledDiv = styled.div`\r\n  display: flex;\r\n  background-color: lightgreen;\r\n`;\r\n\r\nconst HrefsList = ({ hrefObjectsJSON }) => {\r\n  return (\r\n    <>\r\n      {hrefObjectsJSON.map(obj => {\r\n        const { href, textContent } = obj;\r\n        // hmm a lot of hrefs are like \"/davidchoe/status/1273472990051618818\"\r\n        // and need the base twitter URL appended. let's filter these out for now\r\n        return (\r\n          <StyledDiv>\r\n            <h1> href is : {href}</h1>\r\n            <a href={href}>textContent is {textContent}</a>;\r\n          </StyledDiv>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\ninterface Props {\r\n  url: string;\r\n  index: number;\r\n  onClick: (i: number, newSize: string) => void;\r\n}\r\n\r\nconst ImageContainer = styled.div`\r\n  background-color: #d3d3d3;\r\n  margin: 2rem 2rem;\r\n`;\r\n\r\n// probably hoist the image state up one.\r\n\r\nconst CustomImage: FunctionComponent<Props> = ({ url, index, onClick }) => {\r\n  // remove individual state\r\n  // const [currentUrl, setCurrentUrl] = useState<string>(url);\r\n\r\n  let isSmall = url.endsWith(\"small\");\r\n  let isMedium = url.endsWith(\"medium\");\r\n  let isLarge = url.endsWith(\"large\");\r\n  let showButtons = isSmall || isMedium || isLarge;\r\n\r\n  // strip away the '&name=360x360' in\r\n  // https://pbs.twimg.com/media/EUEEeVPU4AEauEH?format=jpg&name=360x360\r\n  // for better image quality and possbily add zoom in\r\n  let imageDimensionsRegex = /(&name=[0-9]{3}x[0-9]{3}$)/;\r\n\r\n  let shouldStripUrl = imageDimensionsRegex.test(url);\r\n\r\n  let finalUrl = shouldStripUrl ? url.replace(imageDimensionsRegex, \"\") : url;\r\n\r\n  return (\r\n    <ImageContainer>\r\n      <h1> image {index}</h1>\r\n      <img src={finalUrl} />\r\n      <h1> original url {url} </h1>\r\n      {imageDimensionsRegex.test(url) && <h1> found 3 digits </h1>}\r\n      {imageDimensionsRegex.test(url) && (\r\n        <h1> stripped url is {url.replace(imageDimensionsRegex, \"\")}</h1>\r\n      )}\r\n      {!showButtons && <h1> No adjustments</h1>}\r\n      {showButtons && (\r\n        <h1>\r\n          {\" \"}\r\n          Ends with{\" \"}\r\n          {isSmall ? \"small\" : isMedium ? \"medium\" : isLarge ? \"large\" : \"nada\"}\r\n        </h1>\r\n      )}\r\n      {showButtons && (\r\n        <>\r\n          <button\r\n            onClick={() => {\r\n              // only here that I passed the passed in event handler\r\n              onClick(index, \"small\");\r\n            }}\r\n          >\r\n            Small for image {index}\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              onClick(index, \"medium\");\r\n            }}\r\n          >\r\n            Medium for image {index}\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              onClick(index, \"large\");\r\n            }}\r\n          >\r\n            Large for image {index}\r\n          </button>\r\n        </>\r\n      )}\r\n    </ImageContainer>\r\n  );\r\n};\r\n\r\nconst TestVideos = () => {\r\n  return (\r\n    <ul>\r\n      {videosJSON.map(videoURLObj => {\r\n        const { url, poster } = videoURLObj;\r\n        return (\r\n          // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video\r\n          // Preload attribute as? hint to browser. can be one of \"none\" | \"metadata\" | \"auto\", spec\r\n          // recommends metadata. Saw this because Twitter has it as none but Instagram has it as \"metadata\"\r\n          // only fetches things like length, which is what MDN says specs recommend\r\n          // Poster attribute is what's shown (or until the first frame of the video is DLed)\r\n          <StyledVideo src={url} poster={poster} controls preload=\"metadata\">\r\n            <p> fallback</p>\r\n          </StyledVideo>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport const PuppetRoutes = ({ match }) => {\r\n  // TODO: replace with let match = useRouteMatch()\r\n  return (\r\n    <>\r\n      <ul>\r\n        <li>\r\n          <Link to={`${match.url}/videos`}> videos</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${match.url}/hrefs`}> hrefs</Link>\r\n        </li>\r\n      </ul>\r\n\r\n      <Switch>\r\n        <Route path={`${match.path}/videos`} component={TestVideos}></Route>\r\n        <Route\r\n          path={`${match.path}/hrefs`}\r\n          component={() => {\r\n            return (\r\n              <HrefsList\r\n                hrefObjectsJSON={hrefObjectsJSON.filter(\r\n                  o => !o.href.startsWith(\"/\")\r\n                )}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n\r\n        <Route path={\"/\"} component={Puppet} />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import VideoItem from \"../components/VideoItem\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../actions\";\r\n\r\nfunction mapStateToProps(state) {\r\n  // fetchUser action will set the state username\r\n  return {\r\n    searchTerm: state.youtubeState.searchTerm,\r\n    filterTerm: state.youtubeState.filterTerm,\r\n    selectedIndex: state.youtubeState.selectedIndex,\r\n    wholeState: state.youtubeState, //  // {username: \"redux-observable\", \"redux-observable\": jsonObj[\"created_at\"]}\r\n    error: state.youtubeState.error,\r\n    channelTerm: state.youtubeState.channelTerm,\r\n    channelTitle: state.youtubeState.channelTitle,\r\n    globalVolume: state.youtubeState.globalVolume\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    onChannelClick(channelId, channelTitle) {\r\n      // change action creator to include title\r\n      dispatch(actions.setYoutubeChannelTerm(channelId, channelTitle));\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoItem);\r\n","import React, { Component } from \"react\";\r\n// import logo from './logo.svg';\r\nimport \"./App.css\";\r\n\r\nimport { Provider, Store } from \"react-redux\";\r\nimport { createStore, compose, applyMiddleware } from \"redux\";\r\nimport { createEpicMiddleware } from \"redux-observable\";\r\nimport { Route, Link, BrowserRouter } from \"react-router-dom\";\r\nimport { withRouter, WithRouterProps } from \"react-router\";\r\nimport rootReducer from \"./reducer\";\r\nimport rootEpic from \"./epic\";\r\n\r\nimport { openDB, OpenDBCallbacks } from \"idb/with-async-ittr\";\r\n// Components\r\n\r\n//import Socket from './components/Socket'\r\n//import Timer from './components/Timer'\r\nimport Bar from \"./components/Bar\";\r\nimport BarChart from \"./components/BarChart\";\r\nimport PieChart from \"./components/PieChart\";\r\n//import LineGraph from './components/LineGraph'\r\nimport LineGraphTest from \"./components/LineGraphTest\";\r\n//import ChannelList from './containers/ChannelList'\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\n\r\n// Containers\r\n\r\n//import Github from './containers/Github'\r\nimport Ping from \"./containers/Ping\";\r\nimport Github2 from \"./containers/Github2\"; // Reddit\r\nimport Youtube from \"./containers/Youtube\";\r\nimport Drag from \"./containers/Drag\";\r\nimport ChannelList from \"./containers/ChannelList\";\r\nimport Translate from \"./containers/Translate\";\r\n\r\nimport { Blog } from \"./components/Blog\";\r\nimport styled from \"styled-components\";\r\nimport { CrimeTable } from \"./table/CrimeTable\";\r\nimport { CrimeMap } from \"./map/CrimeMap\";\r\nimport { Puppet, PuppetRoutes } from \"./components/Puppet\";\r\nimport { FavoriteVideoForm } from \"./components/FavoriteVideoForm\";\r\nimport { FavoriteVideos } from \"./components/FavoriteVideos\";\r\n\r\n// goal{ [routeobj.path]: routeObj } for 0(1) feature flag detection\r\nconst routesArr = [\r\n  {\r\n    path: \"/Youtube\",\r\n    component: Youtube\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Favorites\",\r\n    component: FavoriteVideos\r\n  },\r\n  {\r\n    path: \"/CrimeMap\",\r\n    component: CrimeMap\r\n  },\r\n  {\r\n    path: \"/CrimeTable\",\r\n    component: CrimeTable\r\n  },\r\n  {\r\n    path: \"/ChannelList\",\r\n    component: ChannelList\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Random\",\r\n    component: Blog\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Puppet\",\r\n    component: PuppetRoutes\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Translate\",\r\n    component: Translate\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/LineGraphTest\",\r\n    component: LineGraphTest\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/PieChart\",\r\n    component: PieChart\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/BarChart\",\r\n    component: BarChart\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Bar\",\r\n    component: Bar\r\n  },\r\n\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Ping\",\r\n    component: Ping\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Drag\",\r\n    component: Drag\r\n  },\r\n  {\r\n    hasFlag: true,\r\n    path: \"/Reddit\",\r\n    component: Github2\r\n  }\r\n];\r\n\r\nconst LinksWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap\r\n  margin: 2rem;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  margin: 1rem;\r\n`;\r\n\r\n// Use \"process.env.PUBLIC_URL\" for both React Router's <Route /> and <Link >, appending as a\r\n// prfix to the path so that dev and prod routing works\r\n// https://github.com/facebook/create-react-app/issues/1765\r\nconst BASE_URL = process.env.PUBLIC_URL;\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const listItems = routesArr.map(routeObj => {\r\n      return (\r\n        !routeObj.hasFlag && (\r\n          <StyledLink to={BASE_URL + routeObj.path}>{routeObj.path}</StyledLink>\r\n        )\r\n      );\r\n    });\r\n\r\n    return (\r\n      <>\r\n        <LinksWrapper>{listItems}</LinksWrapper>\r\n        <div className=\"App\">\r\n          {routesArr.map((routeObj, index) => {\r\n            return (\r\n              <Route\r\n                path={BASE_URL + routeObj.path}\r\n                component={routeObj.component}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        {/* <FavoriteVideoForm /> */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React, { useEffect, useState, FunctionComponent } from \"react\";\r\nimport { DBState } from \"../reducer\";\r\nimport { YoutubeVideoObj } from \"./VideoItem\";\r\nimport { OBJECT_STORE_NAME } from \"..\";\r\nimport { connect } from \"react-redux\";\r\nimport VideoItem from \"../containers/VideoItem\";\r\n\r\ninterface Props {\r\n  dbState: DBState;\r\n  videoObj: YoutubeVideoObj;\r\n}\r\n\r\nexport const FavoriteVideosComponent: FunctionComponent<Props> = ({\r\n  dbState\r\n}) => {\r\n  const [videos, setVideos] = useState<any>([]);\r\n\r\n  useEffect(() => {\r\n    async function getFavoriteVideos(dbState: DBState) {\r\n      const currDBOrUndefined = dbState.db;\r\n\r\n      if (currDBOrUndefined === undefined) {\r\n        console.log(\"no db yet\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const values = await dbState.db.getAll(OBJECT_STORE_NAME);\r\n        console.log(values);\r\n\r\n        // had some test data added before, now filter out\r\n        const filteredVideos = values.filter(video => {\r\n          return video.videoObj !== undefined;\r\n        });\r\n\r\n        setVideos(filteredVideos);\r\n      } catch (e) {\r\n        console.log(\"failred to get videos\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    getFavoriteVideos(dbState);\r\n  }, [dbState]);\r\n\r\n  return (\r\n    <>\r\n      {videos.map(videoValue => {\r\n        const { videoObj } = videoValue;\r\n        return <VideoItem videoObj={videoObj} />;\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    dbState: state.dbState\r\n  };\r\n}\r\nexport const FavoriteVideos = connect(mapStateToProps)(FavoriteVideosComponent);\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log(\"New content is available; please refresh.\");\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import * as constants from \"../constants\";\r\n\r\nexport const initialState = {\r\n  term: \"\"\r\n};\r\n\r\nexport default function translateReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case constants.SET_TRANSLATE_TERM:\r\n      return {\r\n        ...state,\r\n        term: action.payload.term\r\n      };\r\n    case constants.REQUEST_TRANSLATE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.payload.term]: action.payload.json,\r\n        error: action.payload.error // Success\r\n      };\r\n    case \"REQUEST_FAIL\":\r\n      return {\r\n        ...state,\r\n        errror: action.payload.error\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","// import React from \"react\";\r\n//import { combineReducers } from 'redux'\r\nimport * as constants from \"../constants\";\r\nimport translateReducer, {\r\n  initialState as initialTranslateState\r\n} from \"./TranslateReducer\";\r\nimport { IDBPDatabase } from \"idb\";\r\nimport { SetDBAction } from \"../actions\";\r\n\r\nconst initialPingState = {\r\n  isPinging: false\r\n};\r\n\r\nexport function pingReducer(state = initialPingState, action) {\r\n  switch (action.type) {\r\n    case constants.PING:\r\n      return {\r\n        ...state,\r\n        isPinging: true\r\n      };\r\n    case constants.PONG:\r\n      return {\r\n        ...state,\r\n        isPinging: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initialGithubState = {\r\n  username: \"Find GH user\",\r\n  error: \"No error\"\r\n};\r\n\r\nexport function githubReducer(state = initialGithubState, action) {\r\n  switch (action.type) {\r\n    case constants.FETCH_USER: // Action indicating request began\r\n      return {\r\n        ...state,\r\n        username: action.payload.username // string as payoad\r\n      };\r\n\r\n    case constants.FETCH_USER_FULFILLED: // Request success\r\n      return {\r\n        ...state,\r\n        [action.payload.json.login]: action.payload.json[\"created_at\"],\r\n        error: action.payload.error // \"No error\"\r\n      };\r\n\r\n    case constants.FETCH_USER_REJECTED: // Request failure\r\n      return {\r\n        ...state,\r\n        error: action.payload.error\r\n      };\r\n\r\n    case constants.SET_SEARCH_TERM:\r\n      return {\r\n        ...state,\r\n        searchTerm: action.payload.searchTerm\r\n      };\r\n\r\n    case constants.REQUEST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.payload.searchTerm]: action.payload.json,\r\n        error: action.payload.error\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initialRedditState = {\r\n  searchTerm: \"\", // searchTerm for reddit username\r\n  error: \"No error\",\r\n  filterTerm: \"\" // default empty string with length 0\r\n};\r\n\r\nexport function redditReducer(state = initialRedditState, action) {\r\n  switch (\r\n    action.type // add a fetch user action later to update searchTerm for username\r\n  ) {\r\n    case constants.SET_SEARCH_TERM: // username searchTerm\r\n      return {\r\n        ...state,\r\n        searchTerm: action.payload.searchTerm\r\n      };\r\n\r\n    case constants.SET_FILTER_TERM:\r\n      return {\r\n        ...state,\r\n        filterTerm: action.payload.filterTerm\r\n      };\r\n\r\n    case constants.REQUEST_SUCCESS: //\r\n      return {\r\n        ...state,\r\n        [action.payload.searchTerm]: action.payload.json,\r\n        error: action.payload.error\r\n      };\r\n\r\n    case constants.FETCH_USER_REJECTED: // Request failed\r\n      return {\r\n        ...state,\r\n        error: action.payload.error\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initialYoutubeState = {\r\n  searchTerm: \"\", // searchTerm for reddit username\r\n  error: \"No error\",\r\n  filterTerm: \"\",\r\n  selectedIndex: 0,\r\n  channelTerm: \"No channelTerm\",\r\n  listOfSelectedIndexes: [0, 1, 2, 3, 4], // default empty string with length 0\r\n  globalVolume: 1\r\n};\r\n\r\nexport function youtubeReducer(state = initialYoutubeState, action) {\r\n  switch (\r\n    action.type // add a fetch user action later to update searchTerm for username\r\n  ) {\r\n    case constants.SET_YOUTUBE_SEARCH_TERM: // username searchTerm\r\n      return {\r\n        ...state,\r\n        searchTerm: action.payload.searchTerm,\r\n        selectedIndex: 0 // so selected index resets to 0 after a new search\r\n      };\r\n\r\n    case constants.SELECT_VIDEO: {\r\n      return {\r\n        ...state,\r\n        selectedIndex: action.payload.index\r\n        // listOfSelectedIndexes: state.listOfSelectedIndexes.concat(action.payload.index)\r\n      };\r\n    }\r\n\r\n    case constants.SET_YOUTUBE_CHANNEL_TERM:\r\n      return {\r\n        ...state,\r\n        channelTerm: action.payload.channelTerm,\r\n        channelTitle: action.payload.channelTitle\r\n      }; // username searchTerm\r\n\r\n    case constants.SET_FILTER_TERM:\r\n      return {\r\n        ...state\r\n      };\r\n\r\n    case constants.SET_YOUTUBE_GLOBAL_VOLUME: {\r\n      console.log(\"set global volume to \" + action.payload.globalVolume);\r\n      return {\r\n        ...state,\r\n        globalVolume: action.payload.globalVolume\r\n      };\r\n    }\r\n\r\n    case constants.REQUEST_SUCCESS: //\r\n      return {\r\n        ...state,\r\n        [action.payload.searchTerm]: action.payload.json,\r\n        nextPageToken: action.payload.nextPageToken,\r\n        error: action.payload.error\r\n      };\r\n\r\n    case constants.FETCH_USER_REJECTED: // Request failed\r\n      return {\r\n        ...state,\r\n        error: action.payload.error\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initialTimerState = {\r\n  isTiming: false,\r\n  time: 0\r\n};\r\n\r\nexport function timerReducer(state = initialTimerState, action) {\r\n  switch (action.type) {\r\n    case constants.START_TIMER:\r\n      return {\r\n        ...state,\r\n        isTiming: true\r\n      };\r\n    case constants.SET_TIME:\r\n      return {\r\n        ...state,\r\n        time: action.payload.time\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initialDBState: DBState = {\r\n  db: undefined\r\n};\r\n\r\nexport interface DBState {\r\n  db: IDBPDatabase | undefined;\r\n}\r\n\r\nexport function dbReducer(\r\n  state = initialDBState,\r\n  action: SetDBAction\r\n): DBState {\r\n  switch (action.type) {\r\n    case constants.SET_DB: {\r\n      const newState = {\r\n        ...state,\r\n        db: action.payload.db\r\n      };\r\n\r\n      return newState;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  ...initialPingState,\r\n  ...initialGithubState,\r\n  ...initialRedditState,\r\n  ...initialYoutubeState,\r\n  ...initialTimerState,\r\n  ...initialTranslateState,\r\n  ...initialDBState\r\n};\r\nfunction rootReducer(state: any = initialState, action) {\r\n  return {\r\n    dbState: dbReducer(state.dbState, action),\r\n    isPinging: pingReducer(state.isPinging, action),\r\n    githubState: githubReducer(state.githubState, action),\r\n    redditState: redditReducer(state.redditState, action),\r\n    youtubeState: youtubeReducer(state.youtubeState, action),\r\n    timerState: timerReducer(state.timerState, action),\r\n    translateState: translateReducer(state.translateState, action)\r\n  };\r\n}\r\n// const rootReducer = combineReducers({ pingReducer, githubReducer})\r\nexport default rootReducer;\r\n","// import React from \"react\";\r\nimport \"rxjs\";\r\nimport { of } from \"rxjs/observable/of\";\r\nimport { interval } from \"rxjs/observable/interval\";\r\nimport { ajax } from \"rxjs/observable/dom/ajax\";\r\nimport { ofType } from \"redux-observable\";\r\nimport {\r\n  switchMap,\r\n  debounceTime,\r\n  map,\r\n  delay,\r\n  catchError,\r\n  filter\r\n} from \"rxjs/operators\";\r\nimport { combineEpics } from \"redux-observable\";\r\nimport * as constants from \"../constants\";\r\nimport * as actions from \"../actions\";\r\n\r\nexport function pingEpic(action$) {\r\n  return action$.pipe(\r\n    ofType(\"PING\"),\r\n    delay(1000),\r\n    map(action => ({ type: \"PONG\" }))\r\n  );\r\n}\r\n\r\nexport interface ActionWithPayload {\r\n  type: string;\r\n  action: {\r\n    payload: string;\r\n  };\r\n}\r\n\r\n// export function githubEpic (action$) {\r\n//  return  action$.pipe(\r\n//    ofType(constants.FETCH_USER),\r\n//    map(action => action.payload.username),\r\n//    debounceTime(400),\r\n//    switchMap(username =>\r\n//       ajax.getJSON(`https://api.github.com/users/${username}`)\r\n//         .pipe(\r\n//           map(responseJSON => actions.fetchUserFulfilled(responseJSON)),\r\n//           catchError(error => of({ // note that the error handling is after the AJAX call\r\n//             type: constants.FETCH_USER_REJECTED,\r\n//             payload: {\r\n//               error: error.xhr.response\r\n//             }\r\n//           }))\r\n//         )\r\n//     )\r\n//  )\r\n// }\r\n\r\n// export function github2Epic(action$, store) {\r\n//   return action$.pipe(\r\n//     ofType(constants.SET_SEARCH_TERM),\r\n//     map(action => action.payload.searchTerm),\r\n//     debounceTime(400),\r\n//     switchMap(searchTerm =>\r\n//       ajax\r\n//         .getJSON(\r\n//           `https://www.reddit.com/user/${searchTerm}/comments.json?limit=100`\r\n//         )\r\n//         .pipe(\r\n//           map(json => actions.requestSuccess(searchTerm, json)),\r\n//           catchError(error =>\r\n//             of({\r\n//               // note that the error handling is after the AJAX call\r\n//               type: constants.FETCH_USER_REJECTED,\r\n//               payload: {\r\n//                 error: error.xhr.response\r\n//               }\r\n//             })\r\n//           )\r\n//         )\r\n//     )\r\n//   );\r\n// }\r\n\r\nexport const API_KEY = \"AIzaSyDbMbZ0JMDq1b_1-xuxUfvK0WXuJBmX4FA\";\r\nexport const MAX_RESULTS = 15;\r\n\r\nconst makeUrl = searchTerm => {\r\n  // replace empty white space\r\n\r\n  let flag = searchTerm.slice(-3).replace(/\\s/g, \"\"); // replace all white spaces\r\n  switch (flag) {\r\n    case \"-1\": // date\r\n      return `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${MAX_RESULTS}&order=date&type=video&q=${searchTerm}&key=${API_KEY}`;\r\n    case \"-2\": // rating\r\n      return `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${MAX_RESULTS}&order=rating&type=video&q=${searchTerm}&key=${API_KEY}`;\r\n    default:\r\n      return `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${MAX_RESULTS}&type=video&q=${searchTerm}&key=${API_KEY}`;\r\n  }\r\n};\r\n\r\n// return `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=${MAX_RESULTS}&type=video&q=${searchTerm}&key=${API_KEY}`\r\n\r\nconst makeChannelUrl = (\r\n  channelTerm,\r\n  wholePayload: actions.YoutubeSetChannelTermActionPayload\r\n) => {\r\n  // From the inputs on the <ChannelList />\r\n  const queryTerm = wholePayload.optionalParametersObj.q;\r\n  const publishedAfter = wholePayload.optionalParametersObj.publishedAfter;\r\n  const publishedBefore = wholePayload.optionalParametersObj.publishedBefore;\r\n  // get five latest videos from a channel\r\n  let URL = `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${channelTerm}&maxResults=${MAX_RESULTS}&order=date&type=video&key=${API_KEY}`;\r\n\r\n  if (queryTerm) {\r\n    URL += `&q=${queryTerm}`;\r\n  }\r\n\r\n  if (publishedAfter) {\r\n    URL += `&publishedAfter=${publishedAfter}`;\r\n  }\r\n\r\n  if (publishedBefore) {\r\n    URL += `&publishedBefore=${publishedBefore}`;\r\n  }\r\n\r\n  return URL;\r\n};\r\n\r\nexport function youtubeEpic(action$) {\r\n  return action$.pipe(\r\n    ofType(constants.SET_YOUTUBE_SEARCH_TERM),\r\n    debounceTime(400),\r\n    map(\r\n      (action: actions.YoutubeSetSearchTermAction) => action.payload!.searchTerm\r\n    ),\r\n    filter(searchTerm => !!searchTerm), // call only if searchTerm is not null or empty\r\n    switchMap(searchTerm =>\r\n      ajax.getJSON(makeUrl(searchTerm)).pipe(\r\n        map(responseJSON => actions.requestSuccess(searchTerm, responseJSON)),\r\n        // map(responseJSON => actions.setNextPageToken(responseJSON)),\r\n        catchError(error =>\r\n          of({\r\n            type: constants.FETCH_USER_REJECTED,\r\n            payload: {\r\n              error: error.xhr.response\r\n            }\r\n          })\r\n        )\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport function channelEpic(action$) {\r\n  // have the selected channel displayed\r\n  return action$.pipe(\r\n    ofType(constants.SET_YOUTUBE_CHANNEL_TERM),\r\n    map((action: actions.YoutubeSetChannelTermAction) => action.payload),\r\n    filter((payload: actions.YoutubeSetChannelTermActionPayload) => {\r\n      return !!payload.channelTerm;\r\n    }),\r\n    switchMap((payload: actions.YoutubeSetChannelTermActionPayload) =>\r\n      ajax.getJSON(makeChannelUrl(payload.channelTerm, payload)).pipe(\r\n        map(responseJSON =>\r\n          actions.requestSuccess(payload.channelTerm, responseJSON)\r\n        ),\r\n        catchError(error =>\r\n          of({\r\n            type: constants.FETCH_USER_REJECTED,\r\n            payload: {\r\n              error: error.xhr.response\r\n            }\r\n          })\r\n        )\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport function timerEpic(action$) {\r\n  return action$.pipe(\r\n    ofType(constants.START_TIMER),\r\n    switchMap(() => interval(1000).pipe(map(num => actions.setTime(num))))\r\n  );\r\n}\r\n\r\n// const getPinyinDef = term => {\r\n//   // e.g. 江水浑浊 returns an array of two objects\r\n//   return `https://pinyin-rest.pepebecker.com/hanzi/${term}`;\r\n// };\r\n// function translateEpic(action$) {\r\n//   return action$.pipe(\r\n//     ofType(constants.SET_TRANSLATE_TERM),\r\n//     debounceTime(400),\r\n//     map(action => action.payload.term),\r\n//     filter(term => term), // so no empty or null terms\r\n//     switchMap(term => {\r\n//       return ajax.getJSON(getPinyinDef(term)).pipe(\r\n//         map(responseJSON =>\r\n//           actions.requestTranslateSuccess(term, responseJSON)\r\n//         ),\r\n//         catchError(error =>\r\n//           of({\r\n//             type: \"REQUEST_FAIL\",\r\n//             payload: {\r\n//               error: error.xhr.response\r\n//             }\r\n//           })\r\n//         )\r\n//       );\r\n//     })\r\n//   );\r\n// }\r\n// https://www.reddit.com/r/starslatecodex/search.json?q=money&sort=relevance\r\n// https://www.reddit.com/user/catpaak/comments.json\r\n// deleted github2 epic because using same actions as Youtube epic\r\nconst rootEpic = combineEpics(\r\n  youtubeEpic,\r\n  pingEpic,\r\n  timerEpic,\r\n  channelEpic\r\n  // translateEpic\r\n);\r\nexport default rootEpic;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\n\r\nimport \"./App.css\";\r\n\r\nimport { Provider, Store } from \"react-redux\";\r\nimport { createStore, compose, applyMiddleware } from \"redux\";\r\nimport { createEpicMiddleware } from \"redux-observable\";\r\nimport { Route, Link, BrowserRouter } from \"react-router-dom\";\r\nimport { withRouter, WithRouterProps } from \"react-router\";\r\nimport rootReducer from \"./reducer\";\r\nimport rootEpic from \"./epic\";\r\n\r\nimport { openDB, OpenDBCallbacks } from \"idb/with-async-ittr\";\r\n\r\nimport { setDBAction } from \"./actions\";\r\n\r\n// import { CrimeMap } from \"./map/CrimeMap\";\r\n\r\nconst composeEnhancers =\r\n  ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION__()) ||\r\n  compose;\r\n\r\nlet epicMiddleware = createEpicMiddleware(rootEpic);\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(epicMiddleware))\r\n);\r\n\r\nexport let DB_NAME = \"Articles\";\r\nexport let DB_VERSION = 1;\r\nexport const OBJECT_STORE_NAME = \"articles\";\r\n\r\nasync function demo(store: Store<any>) {\r\n  let OPEN_DB_CALLBACKS_OBJ: OpenDBCallbacks<unknown> = {\r\n    upgrade: db => {\r\n      // add/remove stores\r\n      // add/remove indices\r\n      const storeParameters: IDBObjectStoreParameters = {\r\n        keyPath: \"id\",\r\n        autoIncrement: true\r\n      };\r\n      const store = db.createObjectStore(OBJECT_STORE_NAME, storeParameters);\r\n\r\n      const indexName = \"date\";\r\n      const keyPath = \"date\";\r\n      store.createIndex(indexName, keyPath);\r\n    }\r\n  };\r\n\r\n  const db = await openDB(DB_NAME, DB_VERSION, OPEN_DB_CALLBACKS_OBJ);\r\n\r\n  store.dispatch(setDBAction(db));\r\n\r\n  // // Add an article:\r\n  // await db.add('articles', {\r\n  //     title: 'Article 1',\r\n  //     date: new Date('2019-01-01'),\r\n  //     body: '…',\r\n  //   });\r\n}\r\n\r\ndemo(store);\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}